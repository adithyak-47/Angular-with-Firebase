(self.webpackChunkFirebasics=self.webpackChunkFirebasics||[]).push([[179],{986:(ru,_i,Hl)=>{"use strict";function _e(t){return"function"==typeof t}function tg(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ng=tg(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Gl(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Dn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(_e(r))try{r()}catch(s){e=s instanceof ng?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{OT(s)}catch(o){e=e??[],o instanceof ng?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ng(e)}}add(e){var n;if(e&&e!==this)if(this.closed)OT(e);else{if(e instanceof Dn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Gl(n,e)}remove(e){const{_finalizers:n}=this;n&&Gl(n,e),e instanceof Dn&&e._removeParent(this)}}Dn.EMPTY=(()=>{const t=new Dn;return t.closed=!0,t})();const RT=Dn.EMPTY;function kT(t){return t instanceof Dn||t&&"closed"in t&&_e(t.remove)&&_e(t.add)&&_e(t.unsubscribe)}function OT(t){_e(t)?t():t.unsubscribe()}const ns={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ql={setTimeout(t,e,...n){const{delegate:r}=ql;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ql;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function PT(t){ql.setTimeout(()=>{const{onUnhandledError:e}=ns;if(!e)throw t;e(t)})}function FT(){}const yB=rg("C",void 0,void 0);function rg(t,e,n){return{kind:t,value:e,error:n}}let rs=null;function zl(t){if(ns.useDeprecatedSynchronousErrorHandling){const e=!rs;if(e&&(rs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=rs;if(rs=null,n)throw r}}else t()}class ig extends Dn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kT(e)&&e.add(this)):this.destination=bB}static create(e,n,r){return new iu(e,n,r)}next(e){this.isStopped?og(function vB(t){return rg("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?og(function _B(t){return rg("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?og(yB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const IB=Function.prototype.bind;function sg(t,e){return IB.call(t,e)}class EB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Wl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Wl(r)}else Wl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Wl(n)}}}class iu extends ig{constructor(e,n,r){let i;if(super(),_e(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ns.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sg(e.next,s),error:e.error&&sg(e.error,s),complete:e.complete&&sg(e.complete,s)}):i=e}this.destination=new EB(i)}}function Wl(t){ns.useDeprecatedSynchronousErrorHandling?function wB(t){ns.useDeprecatedSynchronousErrorHandling&&rs&&(rs.errorThrown=!0,rs.error=t)}(t):PT(t)}function og(t,e){const{onStoppedNotification:n}=ns;n&&ql.setTimeout(()=>n(t,e))}const bB={closed:!0,next:FT,error:function DB(t){throw t},complete:FT},ag="function"==typeof Symbol&&Symbol.observable||"@@observable";function is(t){return t}function LT(t){return 0===t.length?is:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ve=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function SB(t){return t&&t instanceof ig||function TB(t){return t&&_e(t.next)&&_e(t.error)&&_e(t.complete)}(t)&&kT(t)}(n)?n:new iu(n,r,i);return zl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=VT(r))((i,s)=>{const o=new iu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ag](){return this}pipe(...n){return LT(n)(this)}toPromise(n){return new(n=VT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function VT(t){var e;return null!==(e=t??ns.Promise)&&void 0!==e?e:Promise}const AB=tg(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fr=(()=>{class t extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new UT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new AB}next(n){zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?RT:(this.currentObservers=null,s.push(n),new Dn(()=>{this.currentObservers=null,Gl(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ve;return n.source=this,n}}return t.create=(e,n)=>new UT(e,n),t})();class UT extends fr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:RT}}function BT(t){return _e(t?.lift)}function yt(t){return e=>{if(BT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,r,i){return new xB(t,e,n,r,i)}class xB extends ig{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(t,e){return yt((n,r)=>{let i=0;n.subscribe(at(r,s=>{r.next(t.call(e,s,i++))}))})}function jT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ss(t){return this instanceof ss?(this.v=t,this):new ss(t)}function RB(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ss?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function kB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function GT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const qT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function zT(t){return _e(t?.then)}function WT(t){return _e(t[ag])}function KT(t){return Symbol.asyncIterator&&_e(t?.[Symbol.asyncIterator])}function QT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const YT=function PB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ZT(t){return _e(t?.[YT])}function XT(t){return RB(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ss(n.read());if(i)return yield ss(void 0);yield yield ss(r)}}finally{n.releaseLock()}})}function JT(t){return _e(t?.getReader)}function Zn(t){if(t instanceof Ve)return t;if(null!=t){if(WT(t))return function FB(t){return new Ve(e=>{const n=t[ag]();if(_e(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(qT(t))return function LB(t){return new Ve(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(zT(t))return function VB(t){return new Ve(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,PT)})}(t);if(KT(t))return e0(t);if(ZT(t))return function UB(t){return new Ve(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(JT(t))return function BB(t){return e0(XT(t))}(t)}throw QT(t)}function e0(t){return new Ve(e=>{(function $B(t,e){var n,r,i,s;return function MB(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=kB(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Pr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function St(t,e,n=1/0){return _e(e)?St((r,i)=>ue((s,o)=>e(r,s,i,o))(Zn(t(r,i))),n):("number"==typeof e&&(n=e),yt((r,i)=>function jB(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Zn(n(m,l++)).subscribe(at(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Pr(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(at(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function po(t=1/0){return St(is,t)}const Fr=new Ve(t=>t.complete());function cg(t){return t[t.length-1]}function t0(t){return _e(cg(t))?t.pop():void 0}function su(t){return function GB(t){return t&&_e(t.schedule)}(cg(t))?t.pop():void 0}function Kl(t,e=0){return yt((n,r)=>{n.subscribe(at(r,i=>Pr(r,t,()=>r.next(i),e),()=>Pr(r,t,()=>r.complete(),e),i=>Pr(r,t,()=>r.error(i),e)))})}function Ql(t,e=0){return yt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function n0(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ve(n=>{Pr(n,e,()=>{const r=t[Symbol.asyncIterator]();Pr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Xe(t,e){return e?function ZB(t,e){if(null!=t){if(WT(t))return function zB(t,e){return Zn(t).pipe(Ql(e),Kl(e))}(t,e);if(qT(t))return function KB(t,e){return new Ve(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(zT(t))return function WB(t,e){return Zn(t).pipe(Ql(e),Kl(e))}(t,e);if(KT(t))return n0(t,e);if(ZT(t))return function QB(t,e){return new Ve(n=>{let r;return Pr(n,e,()=>{r=t[YT](),Pr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}(t,e);if(JT(t))return function YB(t,e){return n0(XT(t),e)}(t,e)}throw QT(t)}(t,e):Zn(t)}function lg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new iu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function dg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function hg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const e$=Ie({__forward_ref__:Ie});function be(t){return t.__forward_ref__=be,t.toString=function(){return Ee(this())},t}function z(t){return fg(t)?t():t}function fg(t){return"function"==typeof t&&t.hasOwnProperty(e$)&&t.__forward_ref__===be}class A extends Error{constructor(e,n){super(function Yl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function Zl(t,e){throw new A(-201,!1)}function Cn(t,e){null==t&&function ge(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function Xl(t){return r0(t,Jl)||r0(t,o0)}function r0(t,e){return t.hasOwnProperty(e)?t[e]:null}function s0(t){return t&&(t.hasOwnProperty(pg)||t.hasOwnProperty(c$))?t[pg]:null}const Jl=Ie({\u0275prov:Ie}),pg=Ie({\u0275inj:Ie}),o0=Ie({ngInjectableDef:Ie}),c$=Ie({ngInjectorDef:Ie});var j=(()=>((j=j||{})[j.Default=0]="Default",j[j.Host=1]="Host",j[j.Self=2]="Self",j[j.SkipSelf=4]="SkipSelf",j[j.Optional=8]="Optional",j))();let gg;function Vn(t){const e=gg;return gg=t,e}function a0(t,e,n){const r=Xl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void Zl(Ee(t))}function vi(t){return{toString:t}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),pr=(()=>{return(t=pr||(pr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",pr;var t})();const Ce=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),go={},pe=[],ed=Ie({\u0275cmp:Ie}),mg=Ie({\u0275dir:Ie}),yg=Ie({\u0275pipe:Ie}),u0=Ie({\u0275mod:Ie}),Vr=Ie({\u0275fac:Ie}),ou=Ie({__NG_ELEMENT_ID__:Ie});let d$=0;function wi(t){return vi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||pe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||pr.Emulated,id:"c"+d$++,styles:t.styles||pe,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=d0(t.inputs,r),i.outputs=d0(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(c0).filter(l0):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Yt).filter(l0):null,i})}function c0(t){return me(t)||Qt(t)}function l0(t){return null!==t}function Tn(t){return vi(()=>({type:t.type,bootstrap:t.bootstrap||pe,declarations:t.declarations||pe,imports:t.imports||pe,exports:t.exports||pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function d0(t,e){if(null==t)return go;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const W=wi;function me(t){return t[ed]||null}function Qt(t){return t[mg]||null}function Yt(t){return t[yg]||null}function Sn(t,e){const n=t[u0]||null;if(!n&&!0===e)throw new Error(`Type ${Ee(t)} does not have '\u0275mod' property.`);return n}function hn(t){return Array.isArray(t)&&"object"==typeof t[1]}function er(t){return Array.isArray(t)&&!0===t[1]}function wg(t){return 0!=(8&t.flags)}function id(t){return 2==(2&t.flags)}function sd(t){return 1==(1&t.flags)}function tr(t){return null!==t.template}function y$(t){return 0!=(256&t[2])}function ls(t,e){return t.hasOwnProperty(Vr)?t[Vr]:null}class w${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bn(){return p0}function p0(t){return t.type.prototype.ngOnChanges&&(t.setInput=E$),I$}function I$(){const t=m0(this),e=t?.current;if(e){const n=t.previous;if(n===go)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function E$(t,e,n,r){const i=m0(t)||function D$(t,e){return t[g0]=e}(t,{previous:go,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new w$(u&&u.currentValue,e,o===go),t[r]=e}Bn.ngInherit=!0;const g0="__ngSimpleChanges__";function m0(t){return t[g0]||null}function Je(t){for(;Array.isArray(t);)t=t[0];return t}function od(t,e){return Je(e[t])}function jn(t,e){return Je(e[t.index])}function Cg(t,e){return t.data[e]}function xn(t,e){const n=e[t];return hn(n)?n:n[0]}function ad(t){return 64==(64&t[2])}function Ii(t,e){return null==e?null:t[e]}function y0(t){t[18]=0}function Tg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const K={lFrame:x0(null),bindingsEnabled:!0};function v0(){return K.bindingsEnabled}function D(){return K.lFrame.lView}function ce(){return K.lFrame.tView}function ut(){let t=E0();for(;null!==t&&64===t.type;)t=t.parent;return t}function E0(){return K.lFrame.currentTNode}function gr(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function Sg(){return K.lFrame.isParent}function Io(){return K.lFrame.bindingIndex++}function V$(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,xg(e)}function xg(t){K.lFrame.currentDirectiveIndex=t}function Ng(t){K.lFrame.currentQueryIndex=t}function B$(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function S0(t,e,n){if(n&j.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&j.Host||(i=B$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=A0();return r.currentTNode=e,r.lView=t,!0}function Rg(t){const e=A0(),n=t[1];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function A0(){const t=K.lFrame,e=null===t?null:t.child;return null===e?x0(t):e}function x0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function M0(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const N0=M0;function kg(){const t=M0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xt(){return K.lFrame.selectedIndex}function Ei(t){K.lFrame.selectedIndex=t}function ud(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function cd(t,e,n){R0(t,e,3,n)}function ld(t,e,n,r){(3&t[2])===n&&R0(t,e,n,r)}function Og(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function R0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(Q$(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Q$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class hu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function dd(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];O0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function k0(t){return 3===t||4===t||6===t}function O0(t){return 64===t.charCodeAt(0)}function hd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||P0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function P0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function F0(t){return-1!==t}function Eo(t){return 32767&t}function Do(t,e){let n=function ej(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Fg=!0;function fd(t){const e=Fg;return Fg=t,e}let tj=0;const mr={};function pu(t,e){const n=Vg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Lg(r.data,t),Lg(e,null),Lg(r.blueprint,null));const i=pd(t,e),s=t.injectorIndex;if(F0(i)){const o=Eo(i),a=Do(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Lg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Vg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function pd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=q0(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function gd(t,e,n){!function nj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ou)&&(r=n[ou]),null==r&&(r=n[ou]=tj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function U0(t,e,n){if(n&j.Optional||void 0!==t)return t;Zl()}function B0(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],s=Vn(void 0);try{return i?i.get(e,r,n&j.Optional):a0(e,r,n&j.Optional)}finally{Vn(s)}}return U0(r,0,n)}function $0(t,e,n,r=j.Default,i){if(null!==t){if(1024&e[2]){const o=function aj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=j0(s,o,n,r|j.Self,mr);if(a!==mr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,mr,r);if(l!==mr)return l}u=q0(o),o=o[15]}s=u}return i}(t,e,n,r,mr);if(o!==mr)return o}const s=j0(t,e,n,r,mr);if(s!==mr)return s}return B0(e,n,r,i)}function j0(t,e,n,r,i){const s=function sj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ou)?t[ou]:void 0;return"number"==typeof e?e>=0?255&e:oj:e}(n);if("function"==typeof s){if(!S0(e,t,r))return r&j.Host?U0(i,0,r):B0(e,n,r,i);try{const o=s(r);if(null!=o||r&j.Optional)return o;Zl()}finally{N0()}}else if("number"==typeof s){let o=null,a=Vg(t,e),u=-1,c=r&j.Host?e[16][6]:null;for((-1===a||r&j.SkipSelf)&&(u=-1===a?pd(t,e):e[a+8],-1!==u&&G0(r,!1)?(o=e[1],a=Eo(u),e=Do(u,e)):a=-1);-1!==a;){const l=e[1];if(H0(s,a,l.data)){const d=ij(a,e,n,o,r,c);if(d!==mr)return d}u=e[a+8],-1!==u&&G0(r,e[1].data[a+8]===c)&&H0(s,a,e)?(o=l,a=Eo(u),e=Do(u,e)):a=-1}}return i}function ij(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function md(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&tr(f)&&f.type===n)return u}return null}(a,o,n,null==r?id(a)&&Fg:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==l?gu(e,o,l,a):mr}function gu(t,e,n,r){let i=t[n];const s=e.data;if(function Y$(t){return t instanceof hu}(i)){const o=i;o.resolving&&function t$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,`Circular dependency in DI detected for ${t}${n}`)}(function fe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=fd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Vn(o.injectImpl):null;S0(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function K$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=p0(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Vn(u),fd(a),o.resolving=!1,N0()}}return i}function H0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function G0(t,e){return!(t&j.Self||t&j.Host&&e)}class bo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return $0(this._tNode,this._lView,e,r,n)}}function oj(){return new bo(ut(),D())}function Ug(t){return fg(t)?()=>{const e=Ug(z(t));return e&&e()}:ls(t)}function q0(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const To="__parameters__";function Ao(t,e,n){return vi(()=>{const r=function Bg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(To)?u[To]:Object.defineProperty(u,To,{value:[]})[To];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $r(t,e){t.forEach(n=>Array.isArray(n)?$r(n,e):e(n))}function W0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Nn(t,e,n){let r=xo(t,e);return r>=0?t[1|r]=n:(r=~r,function dj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function jg(t,e){const n=xo(t,e);if(n>=0)return t[1|n]}function xo(t,e){return function Y0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const wu={},Gg="__NG_DI_FLAG__",vd="ngTempTokenPath",vj=/\n/gm,Z0="__source";let Iu;function Mo(t){const e=Iu;return Iu=t,e}function Ij(t,e=j.Default){if(void 0===Iu)throw new A(-203,!1);return null===Iu?a0(t,void 0,e):Iu.get(t,e&j.Optional?null:void 0,e)}function U(t,e=j.Default){return(function l$(){return gg}()||Ij)(z(t),e)}function ze(t,e=j.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),U(t,e)}function qg(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new A(900,!1);let i,s=j.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Ej(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function Eu(t,e){return t[Gg]=e,t.prototype[Gg]=e,t}function Ej(t){return t[Gg]}const Bt=Eu(Ao("Optional"),8),Du=Eu(Ao("SkipSelf"),4);let Wg;const tm=new V("ENVIRONMENT_INITIALIZER"),_S=new V("INJECTOR",-1),vS=new V("INJECTOR_DEF_TYPES");class wS{get(e,n=wu){if(n===wu){const r=new Error(`NullInjectorError: No provider for ${Ee(e)}!`);throw r.name="NullInjectorError",r}return n}}function oH(...t){return{\u0275providers:IS(0,t)}}function IS(t,...e){const n=[],r=new Set;let i;return $r(e,s=>{const o=s;nm(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&ES(i,n),n}function ES(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];$r(i,s=>{e.push(s)})}}function nm(t,e,n,r){if(!(t=z(t)))return!1;let i=null,s=s0(t);const o=!s&&me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=s0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)nm(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{$r(s.imports,l=>{nm(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&ES(c,e)}if(!a){const c=ls(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:pe},{provide:vS,useValue:i,multi:!0},{provide:tm,useValue:()=>U(i),multi:!0})}const u=s.providers;null==u||a||$r(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}const aH=Ie({provide:String,useValue:Ie});function rm(t){return null!==t&&"object"==typeof t&&aH in t}function ds(t){return"function"==typeof t}const im=new V("Set Injector scope."),Cd={},cH={};let sm;function Td(){return void 0===sm&&(sm=new wS),sm}class Ci{}class CS extends Ci{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,am(e,o=>this.processProvider(o)),this.records.set(_S,ko(void 0,this)),i.has("environment")&&this.records.set(Ci,ko(void 0,this));const s=this.records.get(im);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vS.multi,pe,j.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Mo(this),r=Vn(void 0);try{return e()}finally{Mo(n),Vn(r)}}get(e,n=wu,r=j.Default){this.assertNotDestroyed();const i=Mo(this),s=Vn(void 0);try{if(!(r&j.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function pH(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&Xl(e);a=u&&this.injectableDefInScope(u)?ko(om(e),Cd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&j.Self?Td():this.parent).get(e,n=r&j.Optional&&n===wu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[vd]=o[vd]||[]).unshift(Ee(e)),i)throw o;return function Dj(t,e,n,r){const i=t[vd];throw e[Z0]&&i.unshift(e[Z0]),t.message=function bj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ee(e);if(Array.isArray(e))i=e.map(Ee).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ee(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[vd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Vn(s),Mo(i)}}resolveInjectorInitializers(){const e=Mo(this),n=Vn(void 0);try{const r=this.get(tm.multi,pe,j.Self);for(const i of r)i()}finally{Mo(e),Vn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ee(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){let n=ds(e=z(e))?e:z(e&&e.provide);const r=function dH(t){return rm(t)?ko(void 0,t.useValue):ko(TS(t),Cd)}(e);if(ds(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ko(void 0,Cd,!0),i.factory=()=>qg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Cd&&(n.value=cH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function fH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function om(t){const e=Xl(t),n=null!==e?e.factory:ls(t);if(null!==n)return n;if(t instanceof V)throw new A(204,!1);if(t instanceof Function)return function lH(t){const e=t.length;if(e>0)throw function vu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new A(204,!1);const n=function a$(t){const e=t&&(t[Jl]||t[o0]);if(e){const n=function u$(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new A(204,!1)}function TS(t,e,n){let r;if(ds(t)){const i=z(t);return ls(i)||om(i)}if(rm(t))r=()=>z(t.useValue);else if(function bS(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...qg(t.deps||[]));else if(function DS(t){return!(!t||!t.useExisting)}(t))r=()=>U(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(!function hH(t){return!!t.deps}(t))return ls(i)||om(i);r=()=>new i(...qg(t.deps))}return r}function ko(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gH(t){return!!t.\u0275providers}function am(t,e){for(const n of t)Array.isArray(n)?am(n,e):gH(n)?am(n.\u0275providers,e):e(n)}class SS{}class _H{resolveComponentFactory(e){throw function yH(t){const e=Error(`No component factory found for ${Ee(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let xu=(()=>{class t{}return t.NULL=new _H,t})();function vH(){return Oo(ut(),D())}function Oo(t,e){return new Rn(jn(t,e))}let Rn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=vH,t})();class xS{}let Hr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function IH(){const t=D(),n=xn(ut().index,t);return(hn(n)?n:t)[11]}(),t})(),EH=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),t})();class Po{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const MS=new Po("14.2.5"),um={};function fm(t){return t.ngOriginalError}class Fo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&fm(e);for(;n&&fm(n);)n=fm(n);return n||null}}const pm=new Map;let OH=0;const mm="__ngContext__";function $t(t,e){hn(e)?(t[mm]=e[20],function FH(t){pm.set(t[20],t)}(e)):t[mm]=e}function Gr(t){return t instanceof Function?t():t}var fn=(()=>((fn=fn||{})[fn.Important=1]="Important",fn[fn.DashCase=2]="DashCase",fn))();function _m(t,e){return undefined(t,e)}function Nu(t){const e=t[3];return er(e)?e[3]:e}function vm(t){return GS(t[13])}function wm(t){return GS(t[4])}function GS(t){for(;null!==t&&!er(t);)t=t[4];return t}function Vo(t,e,n,r,i){if(null!=r){let s,o=!1;er(r)?s=r:hn(r)&&(o=!0,r=r[0]);const a=Je(r);0===t&&null!==n?null==i?YS(e,n,a):hs(e,n,a,i||null,!0):1===t&&null!==n?hs(e,n,a,i||null,!0):2===t?function rA(t,e,n){const r=Sd(t,e);r&&function cG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function hG(t,e,n,r,i){const s=n[7];s!==Je(n)&&Vo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Ru(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Em(t,e,n){return t.createElement(e,n)}function zS(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Tg(i,-1)),n.splice(r,1)}function Dm(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&zS(i,r),e>0&&(t[n-1][4]=r[4]);const s=yd(t,10+e);!function tG(t,e){Ru(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function WS(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Ru(t,e,n,3,null,null),function iG(t){let e=t[13];if(!e)return bm(t[1],t);for(;e;){let n=null;if(hn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)hn(e)&&bm(e[1],e),e=e[3];null===e&&(e=t),hn(e)&&bm(e[1],e),n=e&&e[4]}e=n}}(e)}}function bm(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function uG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof hu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function aG(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Je(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&er(e[3])){n!==e[3]&&zS(n,e);const r=e[19];null!==r&&r.detachView(t)}!function LH(t){pm.delete(t[20])}(e)}}function KS(t,e,n){return function QS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===pr.None||i===pr.Emulated)return null}return jn(r,n)}(t,e.parent,n)}function hs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function YS(t,e,n){t.appendChild(e,n)}function ZS(t,e,n,r,i){null!==r?hs(t,e,n,r,i):YS(t,e,n)}function Sd(t,e){return t.parentNode(e)}let eA=function JS(t,e,n){return 40&t.type?jn(t,n):null};function Ad(t,e,n,r){const i=KS(t,r,e),s=e[11],a=function XS(t,e,n){return eA(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)ZS(s,i,n[u],a,!1);else ZS(s,i,n,a,!1)}function xd(t,e){if(null!==e){const n=e.type;if(3&n)return jn(e,t);if(4&n)return Tm(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return xd(t,r);{const i=t[e.index];return er(i)?Tm(-1,i):Je(i)}}if(32&n)return _m(e,t)()||Je(t[e.index]);{const r=nA(t,e);return null!==r?Array.isArray(r)?r[0]:xd(Nu(t[16]),r):xd(t,e.next)}}return null}function nA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Tm(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return xd(r,i)}return e[7]}function Sm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&$t(Je(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Sm(t,e,n.child,r,i,s,!1),Vo(e,t,i,a,s);else if(32&u){const c=_m(n,r);let l;for(;l=c();)Vo(e,t,i,l,s);Vo(e,t,i,a,s)}else 16&u?iA(t,e,r,n,i,s):Vo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ru(t,e,n,r,i,s){Sm(n,r,t.firstChild,e,i,s,!1)}function iA(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Vo(e,t,i,u[c],s);else Sm(t,e,u,o[3],i,s,!0)}function sA(t,e,n){t.setAttribute(e,"style",n)}function Am(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function oA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const aA="ng-template";function pG(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==oA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function uA(t){return 4===t.type&&t.value!==aA}function gG(t,e,n){return e===(4!==t.type||n?t.value:aA)}function mG(t,e,n){let r=4;const i=t.attrs||[],s=function vG(t){for(let e=0;e<t.length;e++)if(k0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!gG(t,u,n)||""===u&&1===e.length){if(nr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!pG(t.attrs,c,n)){if(nr(r))return!1;o=!0}continue}const d=yG(8&r?"class":u,i,uA(t),n);if(-1===d){if(nr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==oA(f,c,0)||2&r&&c!==h){if(nr(r))return!1;o=!0}}}}else{if(!o&&!nr(r)&&!nr(u))return!1;if(o&&nr(u))continue;o=!1,r=u|1&r}}return nr(r)||o}function nr(t){return 0==(1&t)}function yG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function wG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function cA(t,e,n=!1){for(let r=0;r<e.length;r++)if(mG(t,e[r],n))return!0;return!1}function lA(t,e){return t?":not("+e.trim()+")":e}function EG(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!nr(o)&&(e+=lA(s,i),i=""),r=o,s=s||!nr(r);n++}return""!==i&&(e+=lA(s,i)),e}const X={};function Ti(t){dA(ce(),D(),Xt()+t,!1)}function dA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&cd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ld(e,s,0,n)}Ei(n)}function gA(t,e=null,n=null,r){const i=mA(t,e,n,r);return i.resolveInjectorInitializers(),i}function mA(t,e=null,n=null,r,i=new Set){const s=[n||pe,oH(t)];return r=r||("object"==typeof t?void 0:Ee(t)),new CS(s,e||Td(),r||null,i)}let en=(()=>{class t{static create(n,r){if(Array.isArray(n))return gA({name:""},r,n,"");{const i=n.name??"";return gA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=wu,t.NULL=new wS,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>U(_S)}),t.__NG_ELEMENT_ID__=-1,t})();function b(t,e=j.Default){const n=D();return null===n?U(t,e):$0(ut(),n,z(t),e)}function km(){throw new Error("invalid")}function Nd(t,e){return t<<17|e<<2}function rr(t){return t>>17&32767}function Om(t){return 2|t}function qr(t){return(131068&t)>>2}function Pm(t,e){return-131069&t|e<<2}function Fm(t){return 1|t}function kA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Ng(i),o.contentQueries(2,e[s],s)}}}function Od(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),y0(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function PH(){return OH++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function Bo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Gm(t,e,n,r,i){const s=E0(),o=Sg(),u=t.data[e]=function iq(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function L$(){return K.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function du(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return gr(s,!0),s}function $o(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qm(t,e,n){Rg(e);try{const r=t.viewQuery;null!==r&&Jm(1,r,n);const i=t.template;null!==i&&OA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&kA(t,e),t.staticViewQueries&&Jm(2,t.viewQuery,n);const s=t.components;null!==s&&function tq(t,e){for(let n=0;n<e.length;n++)wq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,kg()}}function Pd(t,e,n,r){const i=e[2];if(128!=(128&i)){Rg(e);try{y0(e),function b0(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&OA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&cd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ld(e,c,0,null),Og(e,0)}if(function _q(t){for(let e=vm(t);null!==e;e=wm(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&Tg(s,1),i[2]|=512}}}(e),function yq(t){for(let e=vm(t);null!==e;e=wm(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];ad(r)&&Pd(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&kA(t,e),o){const c=t.contentCheckHooks;null!==c&&cd(e,c)}else{const c=t.contentHooks;null!==c&&ld(e,c,1),Og(e,1)}!function JG(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ei(~i);else{const s=i,o=n[++r],a=n[++r];V$(o,s),a(2,e[s])}}}finally{Ei(-1)}}(t,e);const a=t.components;null!==a&&function eq(t,e){for(let n=0;n<e.length;n++)vq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Jm(2,u,r),o){const c=t.viewCheckHooks;null!==c&&cd(e,c)}else{const c=t.viewHooks;null!==c&&ld(e,c,2),Og(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Tg(e[3],-1))}finally{kg()}}}function OA(t,e,n,r,i){const s=Xt(),o=2&r;try{Ei(-1),o&&e.length>22&&dA(t,e,22,!1),n(r,i)}finally{Ei(s)}}function zm(t,e,n){!v0()||(function cq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||pu(n,e),$t(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=tr(u);c&&pq(e,n,u);const l=gu(e,t,a,n);$t(l,e),null!==o&&gq(0,a-i,l,u,0,o),c&&(xn(n.index,e)[8]=l)}}(t,e,n,jn(n,e)),128==(128&n.flags)&&function lq(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function U$(){return K.lFrame.currentDirectiveIndex}();try{Ei(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];xg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&jA(u,c)}}finally{Ei(-1),xg(o)}}(t,e,n))}function Wm(t,e,n=jn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function FA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Km(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Km(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function nq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:X);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function VA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function UA(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||uA(e)?null:mq(d,s);o.push(h),a=VA(d,c,a),u=VA(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function BA(t,e){const n=xn(e,t);16&n[2]||(n[2]|=32)}function Qm(t,e,n,r){let i=!1;if(v0()){const s=function dq(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];cA(n,o.selectors,!1)&&(i||(i=[]),gd(pu(n,e),t,o.type),tr(o)?(HA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,GA(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=$o(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=hd(n.mergedAttrs,d.hostAttrs),qA(t,n,e,c,d),fq(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}UA(t,n)}o&&function hq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new A(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=hd(n.mergedAttrs,n.attrs),i}function $A(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function uq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function jA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function HA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function fq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;tr(e)&&(n[""]=t)}}function GA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ls(i.type)),o=new hu(s,tr(i),b);t.blueprint[r]=o,n[r]=o,$A(t,e,0,r,$o(t,n,i.hostVars,X),i)}function pq(t,e,n){const r=jn(e,t),i=FA(n),s=t[10],o=Fd(t,Od(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function gq(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function mq(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function vq(t,e){const n=xn(e,t);if(ad(n)){const r=n[1];48&n[2]?Pd(r,n,r.template,n[8]):n[5]>0&&Zm(n)}}function Zm(t){for(let r=vm(t);null!==r;r=wm(r))for(let i=10;i<r.length;i++){const s=r[i];if(ad(s))if(512&s[2]){const o=s[1];Pd(o,s,o.template,s[8])}else s[5]>0&&Zm(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=xn(n[r],t);ad(i)&&i[5]>0&&Zm(i)}}function wq(t,e){const n=xn(e,t),r=n[1];(function Iq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),qm(r,n,n[8])}function Fd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xm(t){for(;t;){t[2]|=32;const e=Nu(t);if(y$(t)&&!e)return t;t=e}return null}function Ld(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Pd(t,e,t.template,n)}catch(o){throw r&&YA(e,o),o}finally{i.end&&i.end()}}function Jm(t,e,n){Ng(0),e(t,n)}function WA(t){return t[7]||(t[7]=[])}function KA(t){return t.cleanup||(t.cleanup=[])}function YA(t,e){const n=t[9],r=n?n.get(Fo,null):null;r&&r.handleError(e)}function ey(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Vd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=hg(i,a):2==s&&(r=hg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ud(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Je(s)),er(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Ud(u[1],u,c,r)}const o=n.type;if(8&o)Ud(t,e,n.child,r);else if(32&o){const a=_m(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=nA(e,n);if(Array.isArray(a))r.push(...a);else{const u=Nu(e[16]);Ud(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ku{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Ud(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(er(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Dm(e,r),yd(n,r))}this._attachedToViewContainer=!1}WS(this._lView[1],this._lView)}onDestroy(e){!function LA(t,e,n,r){const i=WA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&KA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Xm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ld(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rG(t,e){Ru(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e}}class Eq extends ku{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ld(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class ty extends xu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=me(e);return new Ou(n,this.ngModule)}}function ZA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class bq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,um,r);return i!==um||n===um?i:this.parentInjector.get(e,n,r)}}class Ou extends SS{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function DG(t){return t.map(EG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return ZA(this.componentDef.inputs)}get outputs(){return ZA(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ci?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new bq(e,s):e,a=o.get(xS,null);if(null===a)throw new A(407,!1);const u=o.get(EH,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function rq(t,e,n){return t.selectRootElement(e,n===pr.ShadowDom)}(c,r,this.componentDef.encapsulation):Em(a.createRenderer(null,this.componentDef),l,function Dq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Km(0,null,null,1,0,null,null,null,null,null),p=Od(null,f,null,h,null,null,a,c,u,o,null);let m,y;Rg(p);try{const I=function Sq(t,e,n,r,i,s){const o=n[1];n[22]=t;const u=Bo(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Vd(u,c,!0),null!==t&&(dd(i,t,c),null!==u.classes&&Am(i,t,u.classes),null!==u.styles&&sA(i,t,u.styles)));const l=r.createRenderer(t,e),d=Od(n,FA(e),null,e.onPush?32:16,n[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(gd(pu(u,n),o,e.type),HA(o,u),GA(u,n.length,1)),Fd(n,d),n[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)dd(c,d,["ng-version",MS.full]);else{const{attrs:E,classes:_}=function bG(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!nr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);E&&dd(c,d,E),_&&_.length>0&&Am(c,d,_.join(" "))}if(y=Cg(f,22),void 0!==n){const E=y.projection=[];for(let _=0;_<this.ngContentSelectors.length;_++){const S=n[_];E.push(null!=S?Array.from(S):null)}}m=function Aq(t,e,n,r){const i=n[1],s=function aq(t,e,n){const r=ut();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qA(t,r,e,$o(t,e,1,null),n),UA(t,r));const i=gu(e,t,r.directiveStart,r);$t(i,e);const s=jn(r,e);return s&&$t(s,e),i}(i,n,e);if(t[8]=n[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=ut();e.contentQueries(1,s,a.directiveStart)}const o=ut();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ei(o.index),$A(n[1],o,0,o.directiveStart,o.directiveEnd,e),jA(e,s)),s}(I,this.componentDef,p,[xq]),qm(f,p,null)}finally{kg()}return new Tq(this.componentType,m,Oo(y,p),p,y)}}class Tq extends class mH{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Eq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;ey(s[1],s,i,e,n),BA(s,this._tNode.index)}}get injector(){return new bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function xq(){const t=ut();ud(D()[1],t)}function ye(t){let e=function XA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(tr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=ny(t.inputs),o.declaredInputs=ny(t.declaredInputs),o.outputs=ny(t.outputs);const a=i.hostBindings;a&&kq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Nq(t,u),c&&Rq(t,c),dg(t.inputs,i.inputs),dg(t.declaredInputs,i.declaredInputs),dg(t.outputs,i.outputs),tr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ye&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Mq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hd(i.hostAttrs,n=hd(n,i.hostAttrs))}}(r)}function ny(t){return t===go?{}:t===pe?[]:t}function Nq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Rq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function kq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Bd=null;function fs(){if(!Bd){const t=Ce.Symbol;if(t&&t.iterator)Bd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Bd=r)}}}return Bd}function Pu(t){return!!function ry(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&fs()in t)}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lu(t,e,n){const r=D();return jt(r,Io(),e)&&function kn(t,e,n,r,i,s,o,a){const u=jn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ey(t,n,l,r,i),id(e)&&BA(n,e.index)):3&e.type&&(r=function sq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ce(),function Be(){const t=K.lFrame;return Cg(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),Lu}function iy(t,e,n,r,i){const o=i?"class":"style";ey(t,n,e.inputs[o],o,r)}function De(t,e,n,r){const i=D(),s=ce(),o=22+t,a=i[11],u=i[o]=Em(a,e,function W$(){return K.lFrame.currentNamespace}()),c=s.firstCreatePass?function Hq(t,e,n,r,i,s,o){const a=e.consts,c=Bo(e,t,2,i,Ii(a,s));return Qm(e,n,c,Ii(a,o)),null!==c.attrs&&Vd(c,c.attrs,!1),null!==c.mergedAttrs&&Vd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];gr(c,!0);const l=c.mergedAttrs;null!==l&&dd(a,u,l);const d=c.classes;null!==d&&Am(a,u,d);const h=c.styles;return null!==h&&sA(a,u,h),64!=(64&c.flags)&&Ad(s,i,u,c),0===function N$(){return K.lFrame.elementDepthCount}()&&$t(u,i),function R$(){K.lFrame.elementDepthCount++}(),sd(c)&&(zm(s,i,c),function PA(t,e,n){if(wg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&Wm(i,c),De}function xe(){let t=ut();Sg()?function Ag(){K.lFrame.isParent=!1}():(t=t.parent,gr(t,!1));const e=t;!function k$(){K.lFrame.elementDepthCount--}();const n=ce();return n.firstCreatePass&&(ud(n,t),wg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function X$(t){return 0!=(16&t.flags)}(e)&&iy(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function J$(t){return 0!=(32&t.flags)}(e)&&iy(n,e,D(),e.stylesWithoutHost,!1),xe}function Gn(t,e,n,r){return De(t,e,n,r),xe(),Gn}function Vu(t){return!!t&&"function"==typeof t.then}const ay=function hx(t){return!!t&&"function"==typeof t.subscribe};function We(t,e,n,r){const i=D(),s=ce(),o=ut();return function px(t,e,n,r,i,s,o,a){const u=sd(r),l=t.firstCreatePass&&KA(t),d=e[8],h=WA(e);let f=!0;if(3&r.type||a){const y=jn(r,e),I=a?a(y):y,E=h.length,_=a?O=>a(Je(O[r.index])):r.index;let S=null;if(!a&&u&&(S=function qq(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,f=!1;else{s=mx(r,e,d,s,!1);const O=n.listen(I,i,s);h.push(s,O),l&&l.push(i,_,E,E+1)}}else s=mx(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const y=m.length;if(y)for(let I=0;I<y;I+=2){const F=e[m[I]][m[I+1]].subscribe(s),we=h.length;h.push(s,F),l&&l.push(i,r.index,we,-(we+1))}}}(s,i,i[11],o,t,e,0,r),We}function gx(t,e,n,r){try{return!1!==n(r)}catch(i){return YA(t,i),!1}}function mx(t,e,n,r,i){return function s(o){if(o===Function)return r;Xm(2&t.flags?xn(t.index,e):e);let u=gx(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=gx(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Tx(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?rr(s):qr(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Xq(t[a],e)&&(u=!0,t[a+1]=r?Fm(l):Om(l)),a=r?rr(l):qr(l)}u&&(t[n+1]=r?Om(s):Fm(s))}function Xq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&xo(t,e)>=0}function jd(t,e){return function ir(t,e,n,r){const i=D(),s=ce(),o=function Br(t){const e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function Px(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Xt()],o=function Ox(t,e){return e>=t.expandoStartIndex}(t,n);(function Ux(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function az(t,e,n,r){const i=function Mg(t){const e=K.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Uu(n=cy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=cy(i,t,e,n,r),null===s){let u=function uz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==qr(r))return t[rr(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=cy(null,t,e,u[1],r),u=Uu(u,e.attrs,r),function cz(t,e,n,r){t[rr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function lz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Uu(r,t[s].hostAttrs,n);return Uu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Yq(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=rr(o),u=qr(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||xo(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=rr(t[a+1]);t[r+1]=Nd(h,a),0!==h&&(t[h+1]=Pm(t[h+1],r)),t[a+1]=function HG(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Nd(a,0),0!==a&&(t[a+1]=Pm(t[a+1],r)),a=r;else t[r+1]=Nd(u,0),0===a?a=r:t[u+1]=Pm(t[u+1],r),u=r;c&&(t[r+1]=Om(t[r+1])),Tx(t,l,r,!0),Tx(t,l,r,!1),function Zq(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&xo(s,e)>=0&&(n[r+1]=Fm(n[r+1]))}(e,l,t,r,s),o=Nd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==X&&jt(i,o,e)&&function Lx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Hd(function CA(t){return 1==(1&t)}(c)?Vx(u,e,n,i,qr(c),o):void 0)||(Hd(s)||function bA(t){return 2==(2&t)}(c)&&(s=Vx(u,null,n,i,a,o)),function fG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:fn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=fn.Important),t.setStyle(n,r,i,s))}}(r,o,od(Xt(),n),i,s))}(s,s.data[Xt()],i,i[11],t,i[o+1]=function fz(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ee(function bi(t){return t instanceof class lS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),jd}function cy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Uu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Uu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Nn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Vx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===X&&(h=d?pe:void 0);let f=d?jg(h,r):l===r?h:void 0;if(c&&!Hd(f)&&(f=jg(u,r)),Hd(f)&&(a=f,o))return a;const p=t[i+1];i=o?rr(p):qr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=jg(u,r))}return a}function Hd(t){return void 0!==t}function tt(t,e=""){const n=D(),r=ce(),i=t+22,s=r.firstCreatePass?Bo(r,i,1,e,null):r.data[i],o=n[i]=function Im(t,e){return t.createText(e)}(n[11],e);Ad(r,n,o,s),gr(s,!1)}function Xo(t){return ly("",t,""),Xo}function ly(t,e,n){const r=D(),i=function Ho(t,e,n,r){return jt(t,Io(),n)?e+Z(n)+r:X}(r,t,e,n);return i!==X&&function zr(t,e,n){const r=od(e,t);!function qS(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,Xt(),i),ly}const ea="en-US";let aM=ea;function fy(t,e,n,r,i){if(t=z(t),Array.isArray(t))for(let s=0;s<t.length;s++)fy(t[s],e,n,r,i);else{const s=ce(),o=D();let a=ds(t)?t:z(t.provide),u=TS(t);const c=ut(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ds(t)||!t.multi){const f=new hu(u,i,b),p=gy(a,e,i?l:l+h,d);-1===p?(gd(pu(c,o),s,a),py(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=gy(a,e,l+h,d),p=gy(a,e,l,l+h),m=f>=0&&n[f],y=p>=0&&n[p];if(i&&!y||!i&&!m){gd(pu(c,o),s,a);const I=function NW(t,e,n,r,i){const s=new hu(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,RM(s,i,r&&!n),s}(i?MW:xW,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),py(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else py(s,t,f>-1?f:p,RM(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function py(t,e,n,r){const i=ds(e),s=function uH(t){return!!t.useClass}(e);if(i||s){const u=(s?z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function RM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xW(t,e,n,r){return my(this.multi,[])}function MW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=gu(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),my(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],my(i,s);return s}function my(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Re(t,e=[]){return n=>{n.providersResolver=(r,i)=>function AW(t,e,n){const r=ce();if(r.firstCreatePass){const i=tr(t);fy(n,r.data,r.blueprint,i,!0),fy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ms{}class kM{}class OM extends ms{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ty(this);const r=Sn(e);this._bootstrapComponents=Gr(r.bootstrap),this._r3Injector=mA(e,n,[{provide:ms,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],Ee(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class yy extends kM{constructor(e){super(),this.moduleType=e}create(e){return new OM(this.moduleType,e)}}class kW extends ms{constructor(e,n,r){super(),this.componentFactoryResolver=new ty(this),this.instance=null;const i=new CS([...e,{provide:ms,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],n||Td(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Kd(t,e,n=null){return new kW(t,e,n).injector}let OW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=IS(0,n.type),i=r.length>0?Kd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(U(Ci))}),t})();function PM(t){t.getStandaloneInjector=e=>e.get(OW).getOrCreateStandaloneInjector(t)}function vy(t){return e=>{setTimeout(t,void 0,e)}}const je=class o3 extends fr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=vy(s),i&&(i=vy(i)),o&&(o=vy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Dn&&e.add(a),a}};let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=l3,t})();const u3=Wr,c3=class extends u3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=Od(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),qm(r,i,e),new ku(i)}};function l3(){return function Qd(t,e){return 4&t.type?new c3(e,t,Oo(t,e)):null}(ut(),D())}let or=(()=>{class t{}return t.__NG_ELEMENT_ID__=d3,t})();function d3(){return function QM(t,e){let n;const r=e[t.index];if(er(r))n=r;else{let i;if(8&t.type)i=Je(r);else{const s=e[11];i=s.createComment("");const o=jn(t,e);hs(s,Sd(s,o),i,function lG(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=zA(r,e,i,t),Fd(e,n)}return new WM(n,t,e)}(ut(),D())}const h3=or,WM=class extends h3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Oo(this._hostTNode,this._hostLView)}get injector(){return new bo(this._hostTNode,this._hostLView)}get parentInjector(){const e=pd(this._hostTNode,this._hostLView);if(F0(e)){const n=Do(e,this._hostLView),r=Eo(e);return new bo(n[1].data[r+8],n)}return new bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=KM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function _u(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Ou(me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Ci,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function M$(t){return er(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new WM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function sG(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],W0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function oG(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=Tm(s,o),u=r[11],c=Sd(u,o[7]);return null!==c&&function nG(t,e,n,r,i,s){r[0]=i,r[6]=e,Ru(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),W0(Iy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=KM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Dm(this._lContainer,n);r&&(yd(Iy(this._lContainer),n),WS(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Dm(this._lContainer,n);return r&&null!=yd(Iy(this._lContainer),n)?new ku(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function KM(t){return t[8]}function Iy(t){return t[8]||(t[8]=[])}function Zd(...t){}const Xd=new V("Application Initializer");let Jd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Zd,this.reject=Zd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Vu(s))n.push(s);else if(ay(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(U(Xd,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ku=new V("AppId",{providedIn:"root",factory:function vN(){return`${Oy()}${Oy()}${Oy()}`}});function Oy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wN=new V("Platform Initializer"),eh=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),IN=new V("appBootstrapListener");let j3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Kr=new V("LocaleId",{providedIn:"root",factory:()=>ze(Kr,j.Optional|j.SkipSelf)||function H3(){return typeof $localize<"u"&&$localize.locale||ea}()});class q3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Py=(()=>{class t{compileModuleSync(n){return new yy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Gr(Sn(n).declarations).reduce((o,a)=>{const u=me(a);return u&&o.push(new Ou(u)),o},[]);return new q3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const K3=(()=>Promise.resolve(0))();function Fy(t){typeof Zone>"u"?K3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Q3(){let t=Ce.requestAnimationFrame,e=Ce.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function X3(t){const e=()=>{!function Z3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ce,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vy(t),t.isCheckStableRunning=!0,Ly(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return bN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),CN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return bN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),CN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Vy(t),Ly(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pe.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(Pe.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Y3,Zd,Zd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Y3={};function Ly(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CN(t){t._nesting--,Ly(t)}class J3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const TN=new V(""),th=new V("");let $y,Uy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$y||(function e4(t){$y=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),Fy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(U(Pe),U(By),U(th))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),By=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return $y?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),xi=null;const SN=new V("AllowMultipleToken"),jy=new V("PlatformDestroyListeners");class AN{constructor(e,n){this.name=e,this.token=n}}function MN(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=Hy();if(!o||o.injector.get(SN,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function r4(t){if(xi&&!xi.get(SN,!1))throw new A(400,!1);xi=t;const e=t.get(RN);(function xN(t){const e=t.get(wN,null);e&&e.forEach(n=>n())})(t)}(function NN(t=[],e){return en.create({name:e,providers:[{provide:im,useValue:"platform"},{provide:jy,useValue:new Set([()=>xi=null])},...t]})}(a,r))}return function s4(t){const e=Hy();if(!e)throw new A(401,!1);return e}()}}function Hy(){return xi?.get(RN)??null}let RN=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function ON(t,e){let n;return n="noop"===t?new J3:("zone.js"===t?void 0:t)||new Pe(e),n}(r?.ngZone,function kN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Pe,useValue:i}];return i.run(()=>{const o=en.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(Fo,null);if(!u)throw new A(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{rh(this._modules,a),c.unsubscribe()})}),function PN(t,e,n){try{const r=n();return Vu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Jd);return c.runInitializers(),c.donePromise.then(()=>(function uM(t){Cn(t,"Expected localeId to be defined"),"string"==typeof t&&(aM=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Kr,ea)||ea),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=FN({},r);return function t4(t,e,n){const r=new yy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(nh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new A(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new A(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(jy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(U(en))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function FN(t,e){return Array.isArray(e)?e.reduce(FN,t):{...t,...e}}let nh=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ve(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Ve(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),Fy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function XB(...t){const e=su(t),n=function qB(t,e){return"number"==typeof cg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Zn(r[0]):po(n)(Xe(r,e)):Fr}(s,o.pipe(function JB(t={}){const{connector:e=(()=>new fr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return yt((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=lg(p,i))}),I.subscribe(y),!o&&c>0&&(o=new iu({next:E=>I.next(E),error:E=>{d=!0,h(),a=lg(f,n,E),I.error(E)},complete:()=>{l=!0,h(),a=lg(f,r),I.complete()}}),Zn(m).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof SS;if(!this._injector.get(Jd).done)throw!i&&function mo(t){const e=me(t)||Qt(t)||Yt(t);return null!==e&&e.standalone}(n),new A(405,false);let o;o=i?n:this._injector.get(xu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function n4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ms),c=o.create(en.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(TN,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),rh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new A(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;rh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(IN,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>rh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(U(Pe),U(Ci),U(Fo))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let VN=!0,ih=(()=>{class t{}return t.__NG_ELEMENT_ID__=u4,t})();function u4(t){return function c4(t,e,n){if(id(t)&&!n){const r=xn(t.index,e);return new ku(r,r)}return 47&t.type?new ku(e[16],e):null}(ut(),D(),16==(16&t))}class HN{constructor(){}supports(e){return Pu(e)}create(e){return new g4(e)}}const p4=(t,e)=>e;class g4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||p4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<qN(r,i,s)?n:r,a=qN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Pu(e))throw new A(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Vq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[fs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new m4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new GN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class m4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class y4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class GN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new y4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function WN(){return new ah([new HN])}let ah=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||WN()),deps:[[t,new Du,new Bt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new A(901,!1)}}return t.\u0275prov=J({token:t,providedIn:"root",factory:WN}),t})();const E4=MN(null,"core",[]);let D4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(U(nh))},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({}),t})();let uh=null;function Er(){return uh}const pn=new V("DocumentToken");let Ky=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return function S4(){return U(QN)}()},providedIn:"platform"}),t})();const A4=new V("Location Initialized");let QN=(()=>{class t extends Ky{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Er().getBaseHref(this._doc)}onPopState(n){const r=Er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){YN()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){YN()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(U(pn))},t.\u0275prov=J({token:t,factory:function(){return function x4(){return new QN(U(pn))}()},providedIn:"platform"}),t})();function YN(){return!!window.history.pushState}function Qy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ZN(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Zr(t){return t&&"?"!==t[0]?"?"+t:t}let _s=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return ze(JN)},providedIn:"root"}),t})();const XN=new V("appBaseHref");let JN=(()=>{class t extends _s{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ze(pn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Qy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Zr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Zr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(Ky),U(XN,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),M4=(()=>{class t extends _s{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Qy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(Ky),U(XN,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Yy=(()=>{class t{constructor(n){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=ZN(eR(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Zr(r))}normalize(n){return t.stripTrailingSlash(function R4(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,eR(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Zr,t.joinWithSlash=Qy,t.stripTrailingSlash=ZN,t.\u0275fac=function(n){return new(n||t)(U(_s))},t.\u0275prov=J({token:t,factory:function(){return function N4(){return new Yy(U(_s))}()},providedIn:"root"}),t})();function eR(t){return t.replace(/\/index.html$/,"")}class _8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dR=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new _8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),hR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{hR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(or),b(Wr),b(ah))},t.\u0275dir=W({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function hR(t,e){t.context.$implicit=e.item}let K8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({}),t})();let X8=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>new J8(U(pn),window)}),t})();class J8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function e6(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yR(this.window.history)||yR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class h_ extends class v6 extends class T4{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function C4(t){uh||(uh=t)}(new h_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function w6(){return Ju=Ju||document.querySelector("base"),Ju?Ju.getAttribute("href"):null}();return null==n?null:function I6(t){vh=vh||document.createElement("a"),vh.setAttribute("href",t);const e=vh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function g8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let vh,Ju=null;const IR=new V("TRANSITION_ID"),D6=[{provide:Xd,useFactory:function E6(t,e,n){return()=>{n.get(Jd).donePromise.then(()=>{const r=Er(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[IR,pn,en],multi:!0}];let C6=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const wh=new V("EventManagerPlugins");let Ih=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(U(wh),U(Pe))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class ER{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Er().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let DR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),ec=(()=>{class t extends DR{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(bR),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(bR))}}return t.\u0275fac=function(n){return new(n||t)(U(pn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function bR(t){Er().remove(t)}const f_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},p_=/%COMP%/g;function Eh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Eh(t,i,n):(i=i.replace(p_,t),n.push(i))}return n}function SR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let g_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new m_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case pr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new N6(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case pr.ShadowDom:return new R6(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Eh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(U(Ih),U(ec),U(Ku))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class m_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(f_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(xR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(xR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=f_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=f_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fn.DashCase|fn.Important)?e.style.setProperty(n,r,i&fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,SR(r)):this.eventManager.addEventListener(e,n,SR(r))}}function xR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class N6 extends m_{constructor(e,n,r,i){super(e),this.component=r;const s=Eh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function A6(t){return"_ngcontent-%COMP%".replace(p_,t)}(i+"-"+r.id),this.hostAttr=function x6(t){return"_nghost-%COMP%".replace(p_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class R6 extends m_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Eh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let k6=(()=>{class t extends ER{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(U(pn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const MR=["alt","control","meta","shift"],O6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let F6=(()=>{class t extends ER{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Er().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),MR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=O6[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),MR.forEach(o=>{o!==i&&(0,P6[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(U(pn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const RR=[{provide:eh,useValue:"browser"},{provide:wN,useValue:function L6(){h_.makeCurrent()},multi:!0},{provide:pn,useFactory:function U6(){return function Oj(t){Wg=t}(document),document},deps:[]}],B6=MN(E4,"browser",RR),kR=new V(""),OR=[{provide:th,useClass:class b6{addToWindow(e){Ce.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ce.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ce.getAllAngularRootElements=()=>e.getAllRootElements(),Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(r=>{const i=Ce.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Er().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:TN,useClass:Uy,deps:[Pe,By,th]},{provide:Uy,useClass:Uy,deps:[Pe,By,th]}],PR=[{provide:im,useValue:"root"},{provide:Fo,useFactory:function V6(){return new Fo},deps:[]},{provide:wh,useClass:k6,multi:!0,deps:[pn,Pe,eh]},{provide:wh,useClass:F6,multi:!0,deps:[pn]},{provide:g_,useClass:g_,deps:[Ih,ec,Ku]},{provide:xS,useExisting:g_},{provide:DR,useExisting:ec},{provide:ec,useClass:ec,deps:[pn]},{provide:Ih,useClass:Ih,deps:[wh,Pe]},{provide:class t6{},useClass:C6,deps:[]},[]];let $6=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ku,useValue:n.appId},{provide:IR,useExisting:Ku},D6]}}}return t.\u0275fac=function(n){return new(n||t)(U(kR,12))},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({providers:[...PR,...OR],imports:[K8,D4]}),t})(),FR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(U(pn))},t.\u0275prov=J({token:t,factory:function(n){let r=null;return r=n?new n:function H6(){return new FR(U(pn))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:Z6}=Array,{getPrototypeOf:X6,prototype:J6,keys:eK}=Object;function UR(t){if(1===t.length){const e=t[0];if(Z6(e))return{args:e,keys:null};if(function tK(t){return t&&"object"==typeof t&&X6(t)===J6}(e)){const n=eK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:nK}=Array;function BR(t){return ue(e=>function rK(t,e){return nK(e)?t(...e):t(e)}(t,e))}function $R(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let jR=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(Hr),b(Rn))},t.\u0275dir=W({type:t}),t})(),vs=(()=>{class t extends jR{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function Ut(t){return vi(()=>{const e=t.prototype.constructor,n=e[Vr]||Ug(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Vr]||Ug(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(r||t)}}(),t.\u0275dir=W({type:t,features:[ye]}),t})();const Dr=new V("NgValueAccessor"),oK={provide:Dr,useExisting:be(()=>tc),multi:!0},uK=new V("CompositionEventMode");let tc=(()=>{class t extends jR{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function aK(){const t=Er()?Er().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Hr),b(Rn),b(uK,8))},t.\u0275dir=W({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&We("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Re([oK]),ye]}),t})();const Gt=new V("NgValidators"),Ri=new V("NgAsyncValidators");function JR(t){return null!=t}function ek(t){return Vu(t)?Xe(t):t}function tk(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function nk(t,e){return e.map(n=>n(t))}function rk(t){return t.map(e=>function dK(t){return!t.validate}(e)?e:n=>e.validate(n))}function v_(t){return null!=t?function ik(t){if(!t)return null;const e=t.filter(JR);return 0==e.length?null:function(n){return tk(nk(n,e))}}(rk(t)):null}function w_(t){return null!=t?function sk(t){if(!t)return null;const e=t.filter(JR);return 0==e.length?null:function(n){return function iK(...t){const e=t0(t),{args:n,keys:r}=UR(t),i=new Ve(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Zn(n[l]).subscribe(at(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?$R(r,a):a),s.complete())}))}});return e?i.pipe(BR(e)):i}(nk(n,e).map(ek)).pipe(ue(tk))}}(rk(t)):null}function ok(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function I_(t){return t?Array.isArray(t)?t:[t]:[]}function bh(t,e){return Array.isArray(t)?t.includes(e):t===e}function ck(t,e){const n=I_(e);return I_(t).forEach(i=>{bh(n,i)||n.push(i)}),n}function lk(t,e){return I_(e).filter(n=>!bh(t,n))}class dk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=v_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=w_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class rn extends dk{get formDirective(){return null}get path(){return null}}class ki extends dk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let E_=(()=>{class t extends hk{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(ki,2))},t.\u0275dir=W({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&jd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ye]}),t})(),Ch=(()=>{class t extends hk{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(rn,10))},t.\u0275dir=W({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&jd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ye]}),t})();const nc="VALID",Sh="INVALID",ra="PENDING",rc="DISABLED";function T_(t){return(Ah(t)?t.validators:t)||null}function pk(t){return Array.isArray(t)?v_(t):t||null}function S_(t,e){return(Ah(e)?e.asyncValidators:t)||null}function gk(t){return Array.isArray(t)?w_(t):t||null}function Ah(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _k{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=pk(this._rawValidators),this._composedAsyncValidatorFn=gk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===nc}get invalid(){return this.status===Sh}get pending(){return this.status==ra}get disabled(){return this.status===rc}get enabled(){return this.status!==rc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=pk(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=gk(e)}addValidators(e){this.setValidators(ck(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ck(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lk(e,this._rawAsyncValidators))}hasValidator(e){return bh(this._rawValidators,e)}hasAsyncValidator(e){return bh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ra,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=rc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=nc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nc||this.status===ra)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rc:nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ra,this._hasOwnPendingAsyncValidator=!0;const n=ek(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?rc:this.errors?Sh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ra)?ra:this._anyControlsHaveStatus(Sh)?Sh:nc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ah(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class A_ extends _k{constructor(e,n,r){super(T_(n),S_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function yk(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new A(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function mk(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new A(1e3,"");if(!r[n])throw new A(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function ic(t,e){x_(t,e),e.valueAccessor.writeValue(t.value),t.disabled&&e.valueAccessor.setDisabledState?.(!0),function wK(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vk(t,e)})}(t,e),function EK(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function IK(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vk(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function vK(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Nh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function x_(t,e){const n=function ak(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(ok(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function uk(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(ok(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Nh(e._rawValidators,i),Nh(e._rawAsyncValidators,i)}function vk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const SK={provide:rn,useExisting:be(()=>ia)},sc=(()=>Promise.resolve())();let ia=(()=>{class t extends rn{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new je,this.form=new A_({},v_(n),w_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){sc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),ic(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){sc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){sc.then(()=>{const r=this._findContainer(n.path),i=new A_({});(function wk(t,e){x_(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){sc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){sc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function Ek(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(b(Gt,10),b(Ri,10))},t.\u0275dir=W({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&We("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Re([SK]),ye]}),t})();function Dk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function bk(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Ck=class extends _k{constructor(e=null,n,r){super(T_(n),S_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ah(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=bk(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Dk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Dk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},MK={provide:ki,useExisting:be(()=>kh)},Ak=(()=>Promise.resolve())();let kh=(()=>{class t extends ki{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new Ck,this._registered=!1,this.update=new je,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function N_(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===tc?n=s:function CK(t){return Object.getPrototypeOf(t.constructor)===vs}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function M_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ic(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Ak.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Yr(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);Ak.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function xh(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(rn,9),b(Gt,10),b(Ri,10),b(Dr,10),b(ih,8))},t.\u0275dir=W({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Re([MK]),ye,Bn]}),t})(),Oh=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=W({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Mk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({}),t})(),e5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({imports:[Mk]}),t})(),t5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({imports:[e5]}),t})();function B(...t){return Xe(t,su(t))}class lr extends fr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ph=tg(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Kk(...t){const e=su(t),n=t0(t),{args:r,keys:i}=UR(t);if(0===r.length)return Xe([],e);const s=new Ve(function r5(t,e,n=is){return r=>{Qk(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Qk(e,()=>{const c=Xe(t[u],e);let l=!1;c.subscribe(at(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>$R(i,o):is));return n?s.pipe(BR(n)):s}function Qk(t,e,n){t?Pr(n,t,e):e()}function V_(...t){return function i5(){return po(1)}()(Xe(t,su(t)))}function Yk(t){return new Ve(e=>{Zn(t()).subscribe(e)})}function oc(t,e){const n=_e(t)?t:()=>t,r=i=>i.error(n());return new Ve(e?i=>e.schedule(r,0,i):r)}function U_(){return yt((t,e)=>{let n=null;t._refCount++;const r=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Zk extends Ve{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,BT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Dn;const n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Dn.EMPTY)}return e}refCount(){return U_()(this)}}function br(t,e){return yt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(at(r,u=>{i?.unsubscribe();let c=0;const l=s++;Zn(t(u,l)).subscribe(i=at(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ac(t){return t<=0?()=>Fr:yt((e,n)=>{let r=0;e.subscribe(at(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Oi(t,e){return yt((n,r)=>{let i=0;n.subscribe(at(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Fh(t){return yt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xk(t=o5){return yt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function o5(){return new Ph}function Pi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oi((i,s)=>t(i,s,r)):is,ac(1),n?Fh(e):Xk(()=>new Ph))}function Is(t,e){return _e(e)?St(t,e,1):St(t,1)}function At(t,e,n){const r=_e(t)||e||n?{next:t,error:e,complete:n}:t;return r?yt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(at(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):is}function Fi(t){return yt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(at(n,void 0,void 0,o=>{s=Zn(t(o,Fi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function a5(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(at(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Jk(t,e){return yt(a5(t,e,arguments.length>=2,!0))}function B_(t){return t<=0?()=>Fr:yt((e,n)=>{let r=[];e.subscribe(at(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function e1(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oi((i,s)=>t(i,s,r)):is,B_(1),n?Fh(e):Xk(()=>new Ph))}function $_(t){return yt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",uc=Symbol("RouteTitle");class l5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function sa(t){return new l5(t)}function d5(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Cr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!t1(t[i],e[i]))return!1;return!0}function t1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function n1(t){return Array.prototype.concat.apply([],t)}function r1(t){return t.length>0?t[t.length-1]:null}function xt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Li(t){return ay(t)?t:Vu(t)?Xe(Promise.resolve(t)):B(t)}const p5={exact:function o1(t,e,n){if(!Ds(t.segments,e.segments)||!Lh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!o1(t.children[r],e.children[r],n))return!1;return!0},subset:a1},i1={exact:function g5(t,e){return Cr(t,e)},subset:function m5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>t1(t[n],e[n]))},ignored:()=>!0};function s1(t,e,n){return p5[n.paths](t.root,e.root,n.matrixParams)&&i1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function a1(t,e,n){return u1(t,e,e.segments,n)}function u1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ds(i,n)||e.hasChildren()||!Lh(i,n,r))}if(t.segments.length===n.length){if(!Ds(t.segments,n)||!Lh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!a1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ds(t.segments,i)&&Lh(t.segments,i,r)&&t.children[ie])&&u1(t.children[ie],e,s,r)}}function Lh(t,e,n){return e.every((r,i)=>i1[n](t[i].parameters,r.parameters))}class Es{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return v5.serialize(this)}}class se{constructor(e,n){this.segments=e,this.children=n,this.parent=null,xt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vh(this)}}class cc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=sa(this.parameters)),this._parameterMap}toString(){return h1(this)}}function Ds(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let c1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return new H_},providedIn:"root"}),t})();class H_{parse(e){const n=new A5(e);return new Es(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${lc(e.root,!0)}`,r=function E5(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Uh(n)}=${Uh(i)}`).join("&"):`${Uh(n)}=${Uh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function w5(t){return encodeURI(t)}(e.fragment)}`:""}`}}const v5=new H_;function Vh(t){return t.segments.map(e=>h1(e)).join("/")}function lc(t,e){if(!t.hasChildren())return Vh(t);if(e){const n=t.children[ie]?lc(t.children[ie],!1):"",r=[];return xt(t.children,(i,s)=>{s!==ie&&r.push(`${s}:${lc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _5(t,e){let n=[];return xt(t.children,(r,i)=>{i===ie&&(n=n.concat(e(r,i)))}),xt(t.children,(r,i)=>{i!==ie&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ie?[lc(t.children[ie],!1)]:[`${i}:${lc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${Vh(t)}/${n[0]}`:`${Vh(t)}/(${n.join("//")})`}}function l1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uh(t){return l1(t).replace(/%3B/gi,";")}function G_(t){return l1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bh(t){return decodeURIComponent(t)}function d1(t){return Bh(t.replace(/\+/g,"%20"))}function h1(t){return`${G_(t.path)}${function I5(t){return Object.keys(t).map(e=>`;${G_(e)}=${G_(t[e])}`).join("")}(t.parameters)}`}const D5=/^[^\/()?;=#]+/;function $h(t){const e=t.match(D5);return e?e[0]:""}const b5=/^[^=?&#]+/,T5=/^[^&#]+/;class A5{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new se(e,n)),r}parseSegment(){const e=$h(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new cc(Bh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=$h(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=$h(this.remaining);i&&(r=i,this.capture(r))}e[Bh(n)]=Bh(r)}parseQueryParam(e){const n=function C5(t){const e=t.match(b5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function S5(t){const e=t.match(T5);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=d1(n),s=d1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$h(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ie]:new se([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}}function q_(t){return t.segments.length>0?new se([],{[ie]:t}):t}function jh(t){const e={};for(const r of Object.keys(t.children)){const s=jh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function x5(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new se(t.segments.concat(e.segments),e.children)}return t}(new se(t.segments,e))}function bs(t){return t instanceof Es}function R5(t,e,n,r,i){if(0===n.length)return oa(e.root,e.root,e.root,r,i);const s=function g1(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new p1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return xt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new p1(n,e,r)}(n);return s.toRoot()?oa(e.root,e.root,new se([],{}),r,i):function o(u){const c=function O5(t,e,n,r){if(t.isAbsolute)return new aa(e.root,!0,0);if(-1===r)return new aa(n,n===e.root,0);return function m1(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new aa(r,!1,i-s)}(n,r+(dc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?fc(c.segmentGroup,c.index,s.commands):W_(c.segmentGroup,c.index,s.commands);return oa(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function dc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hc(t){return"object"==typeof t&&null!=t&&t.outlets}function oa(t,e,n,r,i){let o,s={};r&&xt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:f1(t,e,n);const a=q_(jh(o));return new Es(a,s,i)}function f1(t,e,n){const r={};return xt(t.children,(i,s)=>{r[s]=i===e?n:f1(i,e,n)}),new se(t.segments,r)}class p1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dc(r[0]))throw new A(4003,!1);const i=r.find(hc);if(i&&i!==r1(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class aa{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function W_(t,e,n){if(t||(t=new se([],{})),0===t.segments.length&&t.hasChildren())return fc(t,e,n);const r=function F5(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(hc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!_1(u,c,o))return s;r+=2}else{if(!_1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new se(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new se(t.segments.slice(r.pathIndex),t.children),fc(s,0,i)}return r.match&&0===i.length?new se(t.segments,{}):r.match&&!t.hasChildren()?K_(t,e,n):r.match?fc(t,0,i):K_(t,e,n)}function fc(t,e,n){if(0===n.length)return new se(t.segments,{});{const r=function P5(t){return hc(t[0])?t[0].outlets:{[ie]:t}}(n),i={};return xt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=W_(t.children[o],e,s))}),xt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new se(t.segments,i)}}function K_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(hc(s)){const u=L5(s.outlets);return new se(r,u)}if(0===i&&dc(n[0])){r.push(new cc(t.segments[e].path,y1(n[0]))),i++;continue}const o=hc(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&dc(a)?(r.push(new cc(o,y1(a))),i+=2):(r.push(new cc(o,{})),i++)}return new se(r,{})}function L5(t){const e={};return xt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=K_(new se([],{}),0,n))}),e}function y1(t){const e={};return xt(t,(n,r)=>e[r]=`${n}`),e}function _1(t,e,n){return t==n.path&&Cr(e,n.parameters)}class Jr{constructor(e,n){this.id=e,this.url=n}}class Q_ extends Jr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cs extends Jr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hh extends Jr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class v1 extends Jr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class V5 extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U5 extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B5 extends Jr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $5 extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j5 extends Jr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H5{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class G5{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class q5{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z5{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W5{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K5{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w1{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class I1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Y_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Y_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Z_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Z_(e,this._root).map(n=>n.value)}}function Y_(t,e){if(t===e.value)return e;for(const n of e.children){const r=Y_(t,n);if(r)return r}return null}function Z_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Z_(t,n);if(r.length)return r.unshift(e),r}return[]}class ei{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ua(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class E1 extends I1{constructor(e,n){super(e),this.snapshot=n,X_(this,e)}toString(){return this.snapshot.toString()}}function D1(t,e){const n=function Y5(t,e){const o=new Gh([],{},{},"",{},ie,e,null,t.root,-1,{});return new C1("",new ei(o,[]))}(t,e),r=new lr([new cc("",{})]),i=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),u=new Ts(r,i,o,a,s,ie,e,n.root);return u.snapshot=n.root,new E1(new ei(u,[]),n)}class Ts{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ue(c=>c[uc]))??B(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>sa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>sa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function b1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Z5(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gh{constructor(e,n,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[uc],this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class C1 extends I1{constructor(e,n){super(n),this.url=e,X_(this,n)}toString(){return T1(this._root)}}function X_(t,e){e.value._routerState=t,e.children.forEach(n=>X_(t,n))}function T1(t){const e=t.children.length>0?` { ${t.children.map(T1).join(", ")} } `:"";return`${t.value}${e}`}function J_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Cr(e.params,n.params)||t.params.next(n.params),function h5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Cr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ev(t,e){const n=Cr(t.params,e.params)&&function y5(t,e){return Ds(t,e)&&t.every((n,r)=>Cr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||ev(t.parent,e.parent))}function pc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function J5(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return pc(t,r,i);return pc(t,r)})}(t,e,n);return new ei(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pc(t,a)),o}}const r=function e7(t){return new Ts(new lr(t.url),new lr(t.params),new lr(t.queryParams),new lr(t.fragment),new lr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>pc(t,s));return new ei(r,i)}}const tv="ngNavigationCancelingError";function S1(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=bs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=A1(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function A1(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[tv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function x1(t){return M1(t)&&bs(t.url)}function M1(t){return t&&t[tv]}class t7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gc,this.attachRef=null}}let gc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new t7,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const qh=!1;let nv=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.name=i||ie,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,qh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,qh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,qh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new A(4013,qh);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new n7(n,a,i.injector);if(r&&function r7(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(b(gc),b(or),function mu(t){return function rj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(k0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ut(),t)}("name"),b(ih),b(Ci))},t.\u0275dir=W({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),t})();class n7{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ts?this.route:e===gc?this.childContexts:this.parent.get(e,n)}}let rv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=wi({type:t,selectors:[["ng-component"]],standalone:!0,features:[PM],decls:1,vars:0,template:function(n,r){1&n&&Gn(0,"router-outlet")},dependencies:[nv],encapsulation:2}),t})();function N1(t,e){return t.providers&&!t._injector&&(t._injector=Kd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function sv(t){const e=t.children&&t.children.map(sv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=rv),n}function Wn(t){return t.outlet||ie}function R1(t,e){const n=t.filter(r=>Wn(r)===e);return n.push(...t.filter(r=>Wn(r)!==e)),n}function mc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class u7{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),J_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ua(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),xt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ua(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ua(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=ua(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new K5(s.value.snapshot))}),e.children.length&&this.forwardEvent(new z5(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(J_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),J_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=mc(i.snapshot),u=a?.get(xu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class k1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zh{constructor(e,n){this.component=e,this.route=n}}function c7(t,e,n){const r=t._root;return yc(r,e?e._root:null,n,[r.value])}function ca(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function o$(t){return null!==Xl(t)}(t)?e.get(t):t:r}function yc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ua(e);return t.children.forEach(o=>{(function d7(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function h7(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ds(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ds(t.url,e.url)||!Cr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ev(t,e)||!Cr(t.queryParams,e.queryParams);default:return!ev(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new k1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),yc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zh(a.outlet.component,o))}else o&&_c(e,a,i),i.canActivateChecks.push(new k1(r)),yc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),xt(s,(o,a)=>_c(o,n.getContext(a),i)),i}function _c(t,e,n){const r=ua(t),i=t.value;xt(r,(s,o)=>{_c(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new zh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function vc(t){return"function"==typeof t}function ov(t){return t instanceof Ph||"EmptyError"===t?.name}const Wh=Symbol("INITIAL_VALUE");function la(){return br(t=>Kk(t.map(e=>e.pipe(ac(1),function s5(...t){const e=su(t);return yt((n,r)=>{(e?V_(t,n,e):V_(t,n)).subscribe(r)})}(Wh)))).pipe(ue(e=>{for(const n of e)if(!0!==n){if(n===Wh)return Wh;if(!1===n||n instanceof Es)return n}return!0}),Oi(e=>e!==Wh),ac(1)))}function O1(t){return function CB(...t){return LT(t)}(At(e=>{if(bs(e))throw S1(0,e)}),ue(e=>!0===e))}const av={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P1(t,e,n,r,i){const s=uv(t,e,n);return s.matched?function x7(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?B(i.map(o=>{const a=ca(o,t);return Li(function _7(t){return t&&vc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(la(),O1()):B(!0)}(r=N1(e,r),e,n).pipe(ue(o=>!0===o?s:{...av})):B(s)}function uv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...av}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||d5)(n,t,e);if(!i)return{...av};const s={};xt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Kh(t,e,n,r,i="corrected"){if(n.length>0&&function R7(t,e,n){return n.some(r=>Qh(t,e,r)&&Wn(r)!==ie)}(t,n,r)){const o=new se(e,function N7(t,e,n,r){const i={};i[ie]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Wn(s)!==ie){const o=new se([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Wn(s)]=o}return i}(t,e,r,new se(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function k7(t,e,n){return n.some(r=>Qh(t,e,r))}(t,n,r)){const o=new se(t.segments,function M7(t,e,n,r,i,s){const o={};for(const a of r)if(Qh(t,n,a)&&!i[Wn(a)]){const u=new se([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Wn(a)]=u}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new se(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Qh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function F1(t,e,n,r){return!!(Wn(t)===r||r!==ie&&Qh(e,n,t))&&("**"===t.path||uv(e,t,n).matched)}function L1(t,e,n){return 0===e.length&&!t.children[n]}const Yh=!1;class Zh{constructor(e){this.segmentGroup=e||null}}class V1{constructor(e){this.urlTree=e}}function wc(t){return oc(new Zh(t))}function U1(t){return oc(new V1(t))}class L7{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Kh(this.urlTree.root,[],[],this.config).segmentGroup,n=new se(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ie).pipe(ue(s=>this.createUrlTree(jh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fi(s=>{if(s instanceof V1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Zh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ie).pipe(ue(i=>this.createUrlTree(jh(i),e.queryParams,e.fragment))).pipe(Fi(i=>{throw i instanceof Zh?this.noMatchError(i):i}))}noMatchError(e){return new A(4002,Yh)}createUrlTree(e,n,r){const i=q_(e);return new Es(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ue(s=>new se([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Xe(i).pipe(Is(s=>{const o=r.children[s],a=R1(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ue(u=>({segment:u,outlet:s})))}),Jk((s,o)=>(s[o.outlet]=o.segment,s),{}),e1())}expandSegment(e,n,r,i,s,o){return Xe(r).pipe(Is(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Fi(c=>{if(c instanceof Zh)return B(null);throw c}))),Pi(a=>!!a),Fi((a,u)=>{if(ov(a))return L1(n,i,s)?B(new se([],{})):wc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return F1(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):wc(n):wc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?U1(s):this.lineralizeSegments(r,s).pipe(St(o=>{const a=new se(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=uv(n,i,s);if(!a)return wc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?U1(d):this.lineralizeSegments(i,d).pipe(St(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=N1(r,e),r.loadChildren?(r._loadedRoutes?B({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ue(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new se(i,{})))):B(new se(i,{}))):P1(n,r,i,e).pipe(br(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(St(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Kh(n,a,u,h),m=new se(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(ue(_=>new se(a,_)));if(0===h.length&&0===p.length)return B(new se(a,{}));const y=Wn(r)===s;return this.expandSegment(d,m,h,p,y?ie:s,!0).pipe(ue(E=>new se(a.concat(E.segments),E.children)))})):wc(n)))}getChildConfig(e,n,r){return n.children?B({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?B({routes:n._loadedRoutes,injector:n._loadedInjector}):function A7(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?B(!0):B(i.map(o=>{const a=ca(o,t);return Li(function p7(t){return t&&vc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(la(),O1())}(e,n,r).pipe(St(i=>i?this.configLoader.loadChildren(e,n).pipe(At(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function P7(t){return oc(A1(Yh,3))}())):B({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[ie])return oc(new A(4e3,Yh));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Es(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return xt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return xt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new se(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new A(4001,Yh);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class U7{}class j7{constructor(e,n,r,i,s,o,a,u){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=Kh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(ue(n=>{if(null===n)return null;const r=new Gh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ei(r,n),s=new C1(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=b1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return Xe(Object.keys(r.children)).pipe(Is(i=>{const s=r.children[i],o=R1(n,i);return this.processSegmentGroup(e,o,s,i)}),Jk((i,s)=>i&&s?(i.push(...s),i):null),function u5(t,e=!1){return yt((n,r)=>{let i=0;n.subscribe(at(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Fh(null),e1(),ue(i=>{if(null===i)return null;const s=B1(i);return function H7(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return Xe(n).pipe(Is(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Pi(o=>!!o),Fi(o=>{if(ov(o))return L1(r,i,s)?B([]):B(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!F1(n,r,i,s))return B(null);let o;if("**"===n.path){const a=i.length>0?r1(i).parameters:{},u=j1(r)+i.length;o=B({snapshot:new Gh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G1(n),Wn(n),n.component??n._loadedComponent??null,n,$1(r),u,q1(n),u),consumedSegments:[],remainingSegments:[]})}else o=P1(r,n,i,e).pipe(ue(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=j1(r)+u.length;return{snapshot:new Gh(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G1(n),Wn(n),n.component??n._loadedComponent??null,n,$1(r),d,q1(n),d),consumedSegments:u,remainingSegments:c}}));return o.pipe(br(a=>{if(null===a)return B(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function G7(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Kh(r,c,l,h.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ue(y=>null===y?null:[new ei(u,y)]));if(0===h.length&&0===p.length)return B([new ei(u,[])]);const m=Wn(n)===s;return this.processSegment(d,h,f,p,m?ie:s).pipe(ue(y=>null===y?null:[new ei(u,y)]))}))}}function q7(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function B1(t){const e=[],n=new Set;for(const r of t){if(!q7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=B1(r.children);e.push(new ei(r.value,i))}return e.filter(r=>!n.has(r))}function $1(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function j1(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function G1(t){return t.data||{}}function q1(t){return t.resolve||{}}function z1(t){return"string"==typeof t.title||null===t.title}function cv(t){return br(e=>{const n=t(e);return n?Xe(n).pipe(ue(()=>e)):B(e)})}let W1=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[uc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:function(){return ze(K1)},providedIn:"root"}),t})(),K1=(()=>{class t extends W1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(U(FR))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class J7{}class t9 extends class e9{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Jh=new V("",{providedIn:"root",factory:()=>({})}),lv=new V("ROUTES");let dv=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return B(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Li(n.loadComponent()).pipe(At(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),$_(()=>{this.componentLoaders.delete(n)})),i=new Zk(r,()=>new fr).pipe(U_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=n1(u.get(lv,[],j.Self|j.Optional)));return{routes:c.map(sv),injector:u}}),$_(()=>{this.childrenLoaders.delete(r)})),o=new Zk(s,()=>new fr).pipe(U_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Li(n()).pipe(St(r=>r instanceof kM||Array.isArray(r)?B(r):Xe(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(U(en),U(Py))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class r9{}class i9{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function s9(t){throw t}function o9(t,e,n){return e.parse("/")}const a9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},u9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Y1(){const t=ze(c1),e=ze(gc),n=ze(Yy),r=ze(en),i=ze(Py),s=ze(lv,{optional:!0})??[],o=ze(Jh,{optional:!0})??{},a=ze(K1),u=ze(W1,{optional:!0}),c=ze(r9,{optional:!0}),l=ze(J7,{optional:!0}),d=new ht(null,t,e,n,r,i,n1(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function c9(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d}let ht=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fr,this.errorHandler=s9,this.malformedUriErrorHandler=o9,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>B(void 0),this.urlHandlingStrategy=new i9,this.routeReuseStrategy=new t9,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(dv),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new G5(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new H5(h)),this.ngModule=o.get(ms),this.console=o.get(j3);const d=o.get(Pe);this.isNgZoneEnabled=d instanceof Pe&&Pe.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function f5(){return new Es(new se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=D1(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Oi(i=>0!==i.id),ue(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),br(i=>{let s=!1,o=!1;return B(i).pipe(At(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),br(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Z1(a.source)&&(this.browserUrlTree=a.extractedUrl),B(a).pipe(br(d=>{const h=this.transitions.getValue();return r.next(new Q_(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Fr:Promise.resolve(d)}),function V7(t,e,n,r){return br(i=>function F7(t,e,n,r,i){return new L7(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ue(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),At(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function W7(t,e,n,r,i,s){return St(o=>function $7(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new j7(t,e,n,r,i,o,a,s).recognize().pipe(br(u=>null===u?function B7(t){return new Ve(e=>e.error(t))}(new U7):B(u)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ue(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),At(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new V5(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=a,I=new Q_(h,this.serializeUrl(f),p,m);r.next(I);const E=D1(f,this.rootComponentType).snapshot;return B(i={...a,targetSnapshot:E,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Fr}),At(a=>{const u=new U5(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ue(a=>i={...a,guards:c7(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function w7(t,e){return St(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?B({...n,guardsResult:!0}):function I7(t,e,n,r){return Xe(t).pipe(St(i=>function S7(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?B(s.map(a=>{const u=mc(e)??i,c=ca(a,u);return Li(function y7(t){return t&&vc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Pi())})).pipe(la()):B(!0)}(i.component,i.route,n,e,r)),Pi(i=>!0!==i,!0))}(o,r,i,t).pipe(St(a=>a&&function f7(t){return"boolean"==typeof t}(a)?function E7(t,e,n,r){return Xe(e).pipe(Is(i=>V_(function b7(t,e){return null!==t&&e&&e(new q5(t)),B(!0)}(i.route.parent,r),function D7(t,e){return null!==t&&e&&e(new W5(t)),B(!0)}(i.route,r),function T7(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function l7(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Yk(()=>B(o.guards.map(u=>{const c=mc(o.node)??n,l=ca(u,c);return Li(function m7(t){return t&&vc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Pi())})).pipe(la())));return B(s).pipe(la())}(t,i.path,n),function C7(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return B(!0);const i=r.map(s=>Yk(()=>{const o=mc(e)??n,a=ca(s,o);return Li(function g7(t){return t&&vc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Pi())}));return B(i).pipe(la())}(t,i.route,n))),Pi(i=>!0!==i,!0))}(r,s,t,e):B(a)),ue(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),At(a=>{if(i.guardsResult=a.guardsResult,bs(a.guardsResult))throw S1(0,a.guardsResult);const u=new B5(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Oi(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),cv(a=>{if(a.guards.canActivateChecks.length)return B(a).pipe(At(u=>{const c=new $5(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),br(u=>{let c=!1;return B(u).pipe(function K7(t,e){return St(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let s=0;return Xe(i).pipe(Is(o=>function Q7(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!z1(i)&&(s[uc]=i.title),function Y7(t,e,n,r){const i=function Z7(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return B({});const s={};return Xe(i).pipe(St(o=>function X7(t,e,n,r){const i=mc(e)??r,s=ca(t,i);return Li(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Pi(),At(a=>{s[o]=a}))),B_(1),function c5(t){return ue(()=>t)}(s),Fi(o=>ov(o)?Fr:oc(o)))}(s,t,e,r).pipe(ue(o=>(t._resolvedData=o,t.data=b1(t,n).resolve,i&&z1(i)&&(t.data[uc]=i.title),null)))}(o.route,r,t,e)),At(()=>s++),B_(1),St(o=>s===i.length?B(n):Fr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),At({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),At(u=>{const c=new j5(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),cv(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(At(d=>{c.component=d}),ue(()=>{})));for(const d of c.children)l.push(...u(d));return l};return Kk(u(a.targetSnapshot.root)).pipe(Fh(),ac(1))}),cv(()=>this.afterPreactivation()),ue(a=>{const u=function X5(t,e,n){const r=pc(t,e._root,n?n._root:void 0);return new E1(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),At(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ue(r=>(new u7(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),At({next(){s=!0},complete(){s=!0}}),$_(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Fi(a=>{if(o=!0,M1(a)){x1(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new Hh(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),x1(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Z1(i.source)};this.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new v1(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Fr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(sv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),R5(c,this.currentUrlTree,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=bs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function l9(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new A(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...a9}:!1===r?{...u9}:r,bs(n))return s1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return s1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Cs(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new Hh(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){km()},t.\u0275prov=J({token:t,factory:function(){return Y1()},providedIn:"root"}),t})();function Z1(t){return"imperative"!==t}class X1{}let f9=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Oi(n=>n instanceof Cs),Is(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Kd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Xe(i).pipe(po())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):B(null);const s=i.pipe(St(o=>null===o?B(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Xe([s,this.loader.loadComponent(r)]).pipe(po()):s})}}return t.\u0275fac=function(n){return new(n||t)(U(ht),U(Py),U(Ci),U(X1),U(dv))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pv=new V("");let J1=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Q_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Cs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof w1&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new w1(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){km()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function da(t,e){return{\u0275kind:t,\u0275providers:e}}function gv(t){return[{provide:lv,multi:!0,useValue:t}]}function tO(){const t=ze(en);return e=>{const n=t.get(nh);if(e!==n.components[0])return;const r=t.get(ht),i=t.get(nO);1===t.get(mv)&&r.initialNavigation(),t.get(rO,null,j.Optional)?.setUpPreloading(),t.get(pv,null,j.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.next(),i.complete()}}const nO=new V("",{factory:()=>new fr}),mv=new V("",{providedIn:"root",factory:()=>1});const rO=new V("");function y9(t){return da(0,[{provide:rO,useExisting:f9},{provide:X1,useExisting:t}])}const iO=new V("ROUTER_FORROOT_GUARD"),_9=[Yy,{provide:c1,useClass:H_},{provide:ht,useFactory:Y1},gc,{provide:Ts,useFactory:function eO(t){return t.routerState.root},deps:[ht]},dv];function v9(){return new AN("Router",ht)}let sO=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[_9,[],gv(n),{provide:iO,useFactory:D9,deps:[[ht,new Bt,new Du]]},{provide:Jh,useValue:r||{}},r?.useHash?{provide:_s,useClass:M4}:{provide:_s,useClass:JN},{provide:pv,useFactory:()=>{const t=ze(ht),e=ze(X8),n=ze(Jh);return n.scrollOffset&&e.setOffset(n.scrollOffset),new J1(t,e,n)}},r?.preloadingStrategy?y9(r.preloadingStrategy).\u0275providers:[],{provide:AN,multi:!0,useFactory:v9},r?.initialNavigation?b9(r):[],[{provide:oO,useFactory:tO},{provide:IN,multi:!0,useExisting:oO}]]}}static forChild(n){return{ngModule:t,providers:[gv(n)]}}}return t.\u0275fac=function(n){return new(n||t)(U(iO,8))},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({imports:[rv]}),t})();function D9(t){return"guarded"}function b9(t){return["disabled"===t.initialNavigation?da(3,[{provide:Xd,multi:!0,useFactory:()=>{const e=ze(ht);return()=>{e.setUpLocationChangeListener()}}},{provide:mv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?da(2,[{provide:mv,useValue:0},{provide:Xd,multi:!0,deps:[en],useFactory:e=>{const n=e.get(A4,Promise.resolve());let r=!1;return()=>n.then(()=>new Promise(s=>{const o=e.get(ht),a=e.get(nO);(function i(s){e.get(ht).events.pipe(Oi(a=>a instanceof Cs||a instanceof Hh||a instanceof v1),ue(a=>a instanceof Cs||a instanceof Hh&&(0===a.code||1===a.code)&&null),Oi(a=>null!==a),ac(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?B(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const oO=new V("");function aO(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){aO(s,r,i,o,a,"next",u)}function a(u){aO(s,r,i,o,a,"throw",u)}o(void 0)})}}const uO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},rf=function(t){return function(t){const e=uO(t);return _v.encodeByteArray(e,!0)}(t).replace(/\./g,"")},sf=function(t){try{return _v.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ss(){return"object"==typeof indexedDB}function Ic(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function wv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Iv=()=>function P9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u")return;const t=process.env.__FIREBASE_DEFAULTS__,e=process.env.__FIREBASE_DEFAULTS_PATH__;if(t)return e&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(t);if(e)try{return Hl(163)(e)}catch{console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${e}`)}})()||(()=>{if(typeof document>"u")return;const t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),e=t&&sf(t[1]);return e&&JSON.parse(e)})(),lO=t=>{var e,n;return null===(n=null===(e=Iv())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},dO=t=>{var e;return null===(e=Iv())||void 0===e?void 0:e[`_${t}`]};class af{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}}class Tr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function j9(t,e){return t.replace(H9,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Kn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const H9=/\{\$([^}]+)}/g;function cf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fO(s)&&fO(o)){if(!cf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fO(t){return null!==t&&"object"==typeof t}function lf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Dc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class z9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function W9(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Ev),void 0===i.error&&(i.error=Ev),void 0===i.complete&&(i.complete=Ev);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ev(){}function bv(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function mn(t){return t&&t._delegate?t._delegate:t}class qt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const As="[DEFAULT]";class J9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new af;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function tQ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===As?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Cv=[];var le=(()=>{return(t=le||(le={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",le;var t})();const pO={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},rQ=le.INFO,iQ={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},sQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=iQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ha{constructor(e){this.name=e,this._logLevel=rQ,this._logHandler=sQ,this._userLogHandler=null,Cv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?pO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}let gO,mO;const yO=new WeakMap,Tv=new WeakMap,_O=new WeakMap,Sv=new WeakMap,Av=new WeakMap;let xv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Tv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||_O.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function fQ(t){return"function"==typeof t?function hQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function uQ(){return mO||(mO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Mv(this),e),ti(yO.get(this))}:function(...e){return ti(t.apply(Mv(this),e))}:function(e,...n){const r=t.call(Mv(this),e,...n);return _O.set(r,e.sort?e.sort():[e]),ti(r)}}(t):(t instanceof IDBTransaction&&function lQ(t){if(Tv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function aQ(){return gO||(gO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,xv):t)}function ti(t){if(t instanceof IDBRequest)return function cQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ti(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yO.set(n,t)}).catch(()=>{}),Av.set(e,t),e}(t);if(Sv.has(t))return Sv.get(t);const e=fQ(t);return e!==t&&(Sv.set(t,e),Av.set(e,t)),e}const Mv=t=>Av.get(t);function df(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ti(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ti(o.result),u.oldVersion,u.newVersion,ti(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Nv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ti(n).then(()=>{})}const pQ=["get","getKey","getAll","getAllKeys","count"],gQ=["put","add","delete","clear"],Rv=new Map;function vO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Rv.get(e))return Rv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pQ.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Rv.set(e,s),s}!function dQ(t){xv=t(xv)}(t=>({...t,get:(e,n,r)=>vO(e,n)||t.get(e,n,r),has:(e,n)=>!!vO(e,n)||t.has(e,n)}));class mQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function yQ(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const kv="@firebase/app",xs=new ha("@firebase/app"),hf="[DEFAULT]",HQ={[kv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ms=new Map,ff=new Map;function GQ(t,e){try{t.container.addComponent(e)}catch(n){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sn(t){const e=t.name;if(ff.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,t);for(const n of Ms.values())GQ(n,t);return!0}function fa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const ni=new Tr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zQ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}const pa="9.11.0";function IO(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:hf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ni.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=Iv())||void 0===t?void 0:t.config})()),!n)throw ni.create("no-options");const s=Ms.get(i);if(s){if(cf(n,s.options)&&cf(r,s.config))return s;throw ni.create("duplicate-app",{appName:i})}const o=new nQ(i);for(const u of ff.values())o.addComponent(u);const a=new zQ(n,r,o);return Ms.set(i,a),a}function Ov(t=hf){const e=Ms.get(t);if(!e&&t===hf)return IO();if(!e)throw ni.create("no-app",{appName:t});return e}function EO(){return Array.from(Ms.values())}function He(t,e,n){var r;let i=null!==(r=HQ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void xs.warn(a.join(" "))}sn(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const bc="firebase-heartbeat-store";let Fv=null;function DO(){return Fv||(Fv=df("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(bc)}}).catch(t=>{throw ni.create("idb-open",{originalErrorMessage:t.message})})),Fv}function Lv(){return(Lv=g(function*(t){var e;try{return(yield DO()).transaction(bc).objectStore(bc).get(CO(t))}catch(n){if(n instanceof Kn)xs.warn(n.message);else{const r=ni.create("idb-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message});xs.warn(r.message)}}})).apply(this,arguments)}function bO(t,e){return Vv.apply(this,arguments)}function Vv(){return(Vv=g(function*(t,e){var n;try{const i=(yield DO()).transaction(bc,"readwrite");return yield i.objectStore(bc).put(e,CO(t)),i.done}catch(r){if(r instanceof Kn)xs.warn(r.message);else{const i=ni.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});xs.warn(i.message)}}})).apply(this,arguments)}function CO(t){return`${t.name}!${t.options.appId}`}class XQ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=TO(),{heartbeatsToSend:r,unsentEntries:i}=function JQ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=rf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function TO(){return(new Date).toISOString().substring(0,10)}class eY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ss()&&Ic().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function QQ(t){return Lv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return bO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return bO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function SO(t){return rf(JSON.stringify({version:2,heartbeats:t})).length}!function tY(t){sn(new qt("platform-logger",e=>new mQ(e),"PRIVATE")),sn(new qt("heartbeat",e=>new XQ(e),"PRIVATE")),He(kv,"0.8.0",t),He(kv,"0.8.0","esm2017"),He("fire-js","")}(""),He("firebase","9.11.0","app");const AO="@firebase/installations",Uv="0.5.13",MO=`w:${Uv}`,NO="FIS_v2",ri=new Tr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function RO(t){return t instanceof Kn&&t.code.includes("request-failed")}function Bv({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function kO(t){return{token:t.token,requestStatus:2,expiresIn:cY(t.expiresIn),creationTime:Date.now()}}function $v(t,e){return jv.apply(this,arguments)}function jv(){return(jv=g(function*(t,e){const r=(yield e.json()).error;return ri.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function OO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function PO(t,{refreshToken:e}){const n=OO(t);return n.append("Authorization",function lY(t){return`${NO} ${t}`}(e)),n}function Hv(t){return Gv.apply(this,arguments)}function Gv(){return(Gv=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function cY(t){return Number(t.replace("s","000"))}function dY(t,e){return qv.apply(this,arguments)}function qv(){return(qv=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Bv(t),i=OO(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:NO,appId:t.appId,sdkVersion:MO})},u=yield Hv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:kO(c.authToken)}}throw yield $v("Create Installation",u)})).apply(this,arguments)}function FO(t){return new Promise(e=>{setTimeout(e,t)})}const fY=/^[cdef][\w-]{21}$/;function pY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function gY(t){return function hY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return fY.test(n)?n:""}catch{return""}}function ga(t){return`${t.appName}!${t.appId}`}const ma=new Map;function LO(t,e){const n=ga(t);VO(n,e),function _Y(t,e){const n=function UO(){return!Ns&&"BroadcastChannel"in self&&(Ns=new BroadcastChannel("[Firebase] FID Change"),Ns.onmessage=t=>{VO(t.data.key,t.data.fid)}),Ns}();n&&n.postMessage({key:t,fid:e}),function BO(){0===ma.size&&Ns&&(Ns.close(),Ns=null)}()}(n,e)}function VO(t,e){const n=ma.get(t);if(n)for(const r of n)r(e)}let Ns=null;const Rs="firebase-installations-store";let Wv=null;function Kv(){return Wv||(Wv=df("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Rs)}})),Wv}function pf(t,e){return Qv.apply(this,arguments)}function Qv(){return(Qv=g(function*(t,e){const n=ga(t),i=(yield Kv()).transaction(Rs,"readwrite"),s=i.objectStore(Rs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&LO(t,e.fid),e})).apply(this,arguments)}function Yv(t){return Zv.apply(this,arguments)}function Zv(){return(Zv=g(function*(t){const e=ga(t),r=(yield Kv()).transaction(Rs,"readwrite");yield r.objectStore(Rs).delete(e),yield r.done})).apply(this,arguments)}function Cc(t,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=g(function*(t,e){const n=ga(t),i=(yield Kv()).transaction(Rs,"readwrite"),s=i.objectStore(Rs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&LO(t,a.fid),a})).apply(this,arguments)}function Jv(t){return ew.apply(this,arguments)}function ew(){return(ew=g(function*(t){let e;const n=yield Cc(t.appConfig,r=>{const i=IY(r),s=EY(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function IY(t){return jO(t||{fid:pY(),registrationStatus:0})}function EY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ri.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function DY(t,e){return tw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bY(t)}:{installationEntry:e}}function tw(){return(tw=g(function*(t,e){try{const n=yield dY(t,e);return pf(t.appConfig,n)}catch(n){throw RO(n)&&409===n.customData.serverCode?yield Yv(t.appConfig):yield pf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function bY(t){return nw.apply(this,arguments)}function nw(){return(nw=g(function*(t){let e=yield $O(t.appConfig);for(;1===e.registrationStatus;)yield FO(100),e=yield $O(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Jv(t);return r||n}return e})).apply(this,arguments)}function $O(t){return Cc(t,e=>{if(!e)throw ri.create("installation-not-found");return jO(e)})}function jO(t){return function CY(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function TY(t,e){return rw.apply(this,arguments)}function rw(){return(rw=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=SY(t,n),i=PO(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:MO,appId:t.appId}})},u=yield Hv(()=>fetch(r,a));if(u.ok)return kO(yield u.json());throw yield $v("Generate Auth Token",u)})).apply(this,arguments)}function SY(t,{fid:e}){return`${Bv(t)}/${e}/authTokens:generate`}function iw(t){return sw.apply(this,arguments)}function sw(){return(sw=g(function*(t,e=!1){let n;const r=yield Cc(t.appConfig,s=>{if(!GO(s))throw ri.create("not-registered");const o=s.authToken;if(!e&&MY(o))return s;if(1===o.requestStatus)return n=AY(t,e),s;{if(!navigator.onLine)throw ri.create("app-offline");const a=RY(s);return n=xY(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function AY(t,e){return ow.apply(this,arguments)}function ow(){return(ow=g(function*(t,e){let n=yield HO(t.appConfig);for(;1===n.authToken.requestStatus;)yield FO(100),n=yield HO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?iw(t,e):r})).apply(this,arguments)}function HO(t){return Cc(t,e=>{if(!GO(e))throw ri.create("not-registered");return function kY(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function xY(t,e){return aw.apply(this,arguments)}function aw(){return(aw=g(function*(t,e){try{const n=yield TY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield pf(t.appConfig,r),n}catch(n){if(!RO(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield pf(t.appConfig,r)}else yield Yv(t.appConfig);throw n}})).apply(this,arguments)}function GO(t){return void 0!==t&&2===t.registrationStatus}function MY(t){return 2===t.requestStatus&&!function NY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function RY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function uw(){return(uw=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Jv(e);return r?r.catch(console.error):iw(e).catch(console.error),n.fid})).apply(this,arguments)}function cw(){return(cw=g(function*(t,e=!1){const n=t;return yield FY(n),(yield iw(n,e)).token})).apply(this,arguments)}function FY(t){return lw.apply(this,arguments)}function lw(){return(lw=g(function*(t){const{registrationPromise:e}=yield Jv(t);e&&(yield e)})).apply(this,arguments)}function fw(t){return ri.create("missing-app-config-values",{valueName:t})}const qO="installations",$Y=t=>{const e=t.getProvider("app").getImmediate(),n=function UY(t){if(!t||!t.options)throw fw("App Configuration");if(!t.name)throw fw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:fa(e,"heartbeat"),_delete:()=>Promise.resolve()}},jY=t=>{const n=fa(t.getProvider("app").getImmediate(),qO).getImmediate();return{getId:()=>function OY(t){return uw.apply(this,arguments)}(n),getToken:i=>function PY(t){return cw.apply(this,arguments)}(n,i)}};(function HY(){sn(new qt(qO,$Y,"PUBLIC")),sn(new qt("installations-internal",jY,"PRIVATE"))})(),He(AO,Uv),He(AO,Uv,"esm2017");const pw="@firebase/remote-config",yn=new Tr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class eZ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function tZ(t=navigator){return t.languages&&t.languages[0]||t.language}class nZ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){var r,i,s;const[o,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:n.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:n.appId,language_code:tZ()},h={method:"POST",headers:l,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((S,O)=>{e.signal.addEventListener(()=>{const F=new Error("The operation was aborted.");F.name="AbortError",O(F)})});let m;try{yield Promise.race([f,p]),m=yield f}catch(S){let O="fetch-client-network";throw"AbortError"===(null===(r=S)||void 0===r?void 0:r.name)&&(O="fetch-timeout"),yn.create(O,{originalErrorMessage:null===(i=S)||void 0===i?void 0:i.message})}let y=m.status;const I=m.headers.get("ETag")||void 0;let E,_;if(200===m.status){let S;try{S=yield m.json()}catch(O){throw yn.create("fetch-client-parse",{originalErrorMessage:null===(s=O)||void 0===s?void 0:s.message})}E=S.entries,_=S.state}if("INSTANCE_STATE_UNSPECIFIED"===_?y=500:"NO_CHANGE"===_?y=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(E={}),304!==y&&200!==y)throw yn.create("fetch-status",{httpStatus:y});return{status:y,eTag:I,config:E}})()}}class sZ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function rZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function iZ(t){if(!(t instanceof Kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+bv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class uZ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mf(t,e){var n;const r=t.target.error||void 0;return yn.create(e,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const ks="app_namespace_store";class hZ{constructor(e,n,r,i=function dZ(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e(mf(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ks,{keyPath:"compositeKey"})}}catch(r){e(yn.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([ks],"readonly").objectStore(ks),c=n.createCompositeKey(e);try{const l=u.get(c);l.onerror=d=>{s(mf(d,"storage-get"))},l.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(l){s(yn.create("storage-get",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([ks],"readwrite").objectStore(ks),l=r.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:n});d.onerror=h=>{o(mf(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(yn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([ks],"readwrite").objectStore(ks),c=n.createCompositeKey(e);try{const l=u.delete(c);l.onerror=d=>{s(mf(d,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(yn.create("storage-delete",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class fZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function gZ(){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(){if(!Ss())return!1;try{return yield Ic()}catch{return!1}})).apply(this,arguments)}!function pZ(){sn(new qt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yn.create("registration-window");if(!Ss())throw yn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw yn.create("registration-project-id");if(!o)throw yn.create("registration-api-key");if(!a)throw yn.create("registration-app-id");const u=new hZ(a,r.name,n=n||"firebase"),c=new fZ(u),l=new ha(pw);l.logLevel=le.ERROR;const d=new nZ(i,pa,n,s,o,a),h=new sZ(d,u),f=new eZ(h,u,c,l),p=new uZ(r,f,c,u,l);return function ZY(t){const e=mn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),He(pw,"0.3.12"),He(pw,"0.3.12","esm2017")}();const mZ="/firebase-messaging-sw.js",yZ="/firebase-cloud-messaging-push-scope",QO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",YO="google.c.a.c_id",vZ="google.c.a.c_l",wZ="google.c.a.ts",IZ="google.c.a.e";var ya=(()=>{return(t=ya||(ya={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ya;var t})();function ii(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function EZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const ww="fcm_token_details_db",ZO="fcm_token_object_Store";function bZ(t){return Iw.apply(this,arguments)}function Iw(){return Iw=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(ww))return null;let e=null;return(yield df(ww,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(ZO))return;const c=a.objectStore(ZO),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ii(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ii(d.auth),p256dh:ii(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ii(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ii(d.auth),p256dh:ii(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ii(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Nv(ww),yield Nv("fcm_vapid_details_db"),yield Nv("undefined"),CZ(e)?e:null;var r}),Iw.apply(this,arguments)}function CZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Os="firebase-messaging-store";let Ew=null;function Dw(){return Ew||(Ew=df("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Os)}})),Ew}function XO(t){return bw.apply(this,arguments)}function bw(){return(bw=g(function*(t){const e=Aw(t),r=yield(yield Dw()).transaction(Os).objectStore(Os).get(e);if(r)return r;{const i=yield bZ(t.appConfig.senderId);if(i)return yield Cw(t,i),i}})).apply(this,arguments)}function Cw(t,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=g(function*(t,e){const n=Aw(t),i=(yield Dw()).transaction(Os,"readwrite");return yield i.objectStore(Os).put(e,n),yield i.done,e})).apply(this,arguments)}function AZ(t){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*(t){const e=Aw(t),r=(yield Dw()).transaction(Os,"readwrite");yield r.objectStore(Os).delete(e),yield r.done})).apply(this,arguments)}function Aw({appConfig:t}){return t.appId}const Mt=new Tr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function MZ(t,e){return xw.apply(this,arguments)}function xw(){return(xw=g(function*(t,e){var n;const r=yield kw(t),i=eP(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(Rw(t.appConfig),s)).json()}catch(a){throw Mt.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw Mt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Mt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function NZ(t,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(t,e){var n;const r=yield kw(t),i=eP(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${Rw(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw Mt.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw Mt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Mt.create("token-update-no-token");return o.token})).apply(this,arguments)}function JO(t,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(t,e){var n;const i={method:"DELETE",headers:yield kw(t)};try{const o=yield(yield fetch(`${Rw(t.appConfig)}/${e}`,i)).json();if(o.error)throw Mt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw Mt.create("token-unsubscribe-failed",{errorInfo:null===(n=s)||void 0===n?void 0:n.toString()})}})).apply(this,arguments)}function Rw({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function kw(t){return Ow.apply(this,arguments)}function Ow(){return(Ow=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function eP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==QO&&(i.web.applicationPubKey=r),i}const RZ=6048e5;function kZ(t){return Pw.apply(this,arguments)}function Pw(){return(Pw=g(function*(t){const e=yield PZ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ii(e.getKey("auth")),p256dh:ii(e.getKey("p256dh"))},r=yield XO(t.firebaseDependencies);if(r){if(FZ(r.subscriptionOptions,n))return Date.now()>=r.createTime+RZ?OZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield JO(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return nP(t.firebaseDependencies,n)}return nP(t.firebaseDependencies,n)})).apply(this,arguments)}function tP(t){return Fw.apply(this,arguments)}function Fw(){return(Fw=g(function*(t){const e=yield XO(t.firebaseDependencies);e&&(yield JO(t.firebaseDependencies,e.token),yield AZ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function OZ(t,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=g(function*(t,e){try{const n=yield NZ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Cw(t.firebaseDependencies,r),n}catch(n){throw yield tP(t),n}})).apply(this,arguments)}function nP(t,e){return Vw.apply(this,arguments)}function Vw(){return(Vw=g(function*(t,e){const r={token:yield MZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Cw(t,r),r.token})).apply(this,arguments)}function PZ(t,e){return Uw.apply(this,arguments)}function Uw(){return(Uw=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:EZ(e)})})).apply(this,arguments)}function FZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function rP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function LZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function VZ(t,e){!e.data||(t.data=e.data)}(e,t),function UZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function BZ(t){return"object"==typeof t&&!!t&&YO in t}function iP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Bw(t){return Mt.create("missing-app-config-values",{valueName:t})}iP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),iP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function $Z(t){if(!t||!t.options)throw Bw("App Configuration Object");if(!t.name)throw Bw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Bw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function sP(t){return $w.apply(this,arguments)}function $w(){return($w=g(function*(t){var e;try{t.swRegistration=yield navigator.serviceWorker.register(mZ,{scope:yZ}),t.swRegistration.update().catch(()=>{})}catch(n){throw Mt.create("failed-service-worker-registration",{browserErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function HZ(t,e){return jw.apply(this,arguments)}function jw(){return(jw=g(function*(t,e){if(!e&&!t.swRegistration&&(yield sP(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Mt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function GZ(t,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=QO)})).apply(this,arguments)}function Gw(){return(Gw=g(function*(t,e){if(!navigator)throw Mt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mt.create("permission-blocked");return yield GZ(t,e?.vapidKey),yield HZ(t,e?.serviceWorkerRegistration),kZ(t)})).apply(this,arguments)}function qZ(t,e,n){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(t,e,n){const r=zZ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[YO],message_name:n[vZ],message_time:n[wZ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zZ(t){switch(t){case ya.NOTIFICATION_CLICKED:return"notification_open";case ya.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zw(){return(zw=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ya.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(rP(n)):t.onMessageHandler.next(rP(n)));const r=n.data;BZ(r)&&"1"===r[IZ]&&(yield qZ(t,n.messageType,r))})).apply(this,arguments)}const aP="@firebase/messaging",KZ=t=>{const e=new jZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function WZ(t,e){return zw.apply(this,arguments)}(e,n)),e},QZ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function oP(t,e){return Gw.apply(this,arguments)}(e,r)}};function cP(){return Ww.apply(this,arguments)}function Ww(){return(Ww=g(function*(){try{yield Ic()}catch{return!1}return typeof window<"u"&&Ss()&&wv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function YZ(){sn(new qt("messaging",KZ,"PUBLIC")),sn(new qt("messaging-internal",QZ,"PRIVATE")),He(aP,"0.9.17"),He(aP,"0.9.17","esm2017")}();const yf="analytics",JZ="firebase_id",nX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lP="https://www.googletagmanager.com/gtag/js",Nt=new ha("@firebase/analytics");function dP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rX(t,e){const n=document.createElement("script");n.src=`${lP}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function sX(t,e,n,r,i,s){return Yw.apply(this,arguments)}function Yw(){return(Yw=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield dP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Nt.error(a)}t("config",i,s)})).apply(this,arguments)}function oX(t,e,n,r,i){return Zw.apply(this,arguments)}function Zw(){return(Zw=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield dP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Nt.error(s)}})).apply(this,arguments)}function cX(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(lP))return e;return null}const On=new Tr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),hP=new class fX{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function gX(t){return Xw.apply(this,arguments)}function Xw(){return(Xw=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:pX(r)},s=nX.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function mX(t){return Jw.apply(this,arguments)}function Jw(){return(Jw=g(function*(t,e=hP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw On.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw On.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new vX;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),fP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function fP(t,e,n){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=hP){var s,o;const{appId:a,measurementId:u}=t;try{yield yX(r,e)}catch(c){if(u)return Nt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw c}try{const c=yield gX(t);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!_X(l)){if(i.deleteThrottleMetadata(a),u)return Nt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:u};throw c}const d=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?bv(n,i.intervalMillis,30):bv(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),Nt.debug(`Calling attemptFetch again in ${d} millis`),fP(t,h,r,i)}})).apply(this,arguments)}function yX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _X(t){if(!(t instanceof Kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class vX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let tI,aI;function nI(){return(nI=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function pP(t){aI=t}function gP(t){tI=t}function CX(){return uI.apply(this,arguments)}function uI(){return(uI=g(function*(){var t;if(!Ss())return Nt.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ic()}catch(e){return Nt.warn(On.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function cI(){return(cI=g(function*(t,e,n,r,i,s,o){var a;const u=mX(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Nt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Nt.error(f)),e.push(u);const c=CX().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);cX()||rX(s,l.measurementId),aI&&(i("consent","default",aI),pP(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[JZ]=d),i("config",l.measurementId,h),tI&&(i("set",tI),gP(void 0)),l.measurementId})).apply(this,arguments)}class SX{constructor(e){this.app=e}_delete(){return delete si[this.app.options.appId],Promise.resolve()}}let si={},mP=[];const yP={};let vP,oi,_f="dataLayer",lI=!1;function xX(t,e,n){!function AX(){const t=[];if(vv()&&t.push("This is a browser extension environment."),wv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});Nt.warn(n.message)}}();const r=t.options.appId;if(!r)throw On.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw On.create("no-api-key");Nt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=si[r])throw On.create("already-exists",{id:r});if(!lI){!function iX(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_f);const{wrappedGtag:s,gtagCore:o}=function uX(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function aX(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield oX(t,e,n,a,u):"config"===o?yield sX(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Nt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(si,mP,yP,_f,"gtag");oi=s,vP=o,lI=!0}return si[r]=function TX(t,e,n,r,i,s,o){return cI.apply(this,arguments)}(t,mP,yP,e,vP,_f,n),new SX(t)}function NX(){return dI.apply(this,arguments)}function dI(){return(dI=g(function*(){if(vv()||!wv()||!Ss())return!1;try{return yield Ic()}catch{return!1}})).apply(this,arguments)}const wP="@firebase/analytics";!function kX(){sn(new qt(yf,(e,{options:n})=>xX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),sn(new qt("analytics-internal",function t(e){try{const n=e.getProvider(yf).getImmediate();return{logEvent:(r,i,s)=>function RX(t,e,n,r){t=mn(t),function wX(t,e,n,r,i){return nI.apply(this,arguments)}(oi,si[t.app.options.appId],e,n,r).catch(i=>Nt.error(i))}(n,r,i,s)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),He(wP,"0.8.1"),He(wP,"0.8.1","esm2017")}();class OX extends Dn{constructor(e,n){super()}schedule(e,n=0){return this}}const vf={setInterval(t,e,...n){const{delegate:r}=vf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=vf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class EP extends OX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return vf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&vf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gl(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const DP={now:()=>(DP.delegate||Date).now(),delegate:void 0};class Tc{constructor(e,n=Tc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Tc.now=DP.now;class bP extends Tc{constructor(e,n=Tc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const LX=new class FX extends bP{}(class PX extends EP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),VX=new bP(EP),wf=new Po("7.4.1"),hI="__angularfire_symbol__analyticsIsSupportedValue",fI="__angularfire_symbol__analyticsIsSupported",pI="__angularfire_symbol__remoteConfigIsSupportedValue",gI="__angularfire_symbol__remoteConfigIsSupported",mI="__angularfire_symbol__messagingIsSupportedValue",yI="__angularfire_symbol__messagingIsSupported";function vI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[fI]||(globalThis[fI]=NX().then(t=>globalThis[hI]=t).catch(()=>globalThis[hI]=!1)),globalThis[yI]||(globalThis[yI]=cP().then(t=>globalThis[mI]=t).catch(()=>globalThis[mI]=!1)),globalThis[gI]||(globalThis[gI]=gZ().then(t=>globalThis[pI]=t).catch(()=>globalThis[pI]=!1));const wI=(t,e)=>{const n=e?[e]:EO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function _a(){}class CP{constructor(e,n=LX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class UX{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_a,{},_a,_a)),n.pipe(At({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let II=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new CP(Zone.current)),this.insideAngular=n.run(()=>new CP(Zone.current,VX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(U(Pe))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ps(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function BX(t){return Ps().ngZone.runOutsideAngular(()=>t())}function Fs(t){return Ps().ngZone.run(()=>t())}function $X(t){return Ps(),function jX(t){return function(n){return(n=n.lift(new UX(t.ngZone))).pipe(Ql(t.outsideAngular),Kl(t.insideAngular))}}(Ps())(t)}const HX=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Fs(()=>t.apply(void 0,r))},Ls=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Fs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_a,{},_a,_a)))),r[s]=HX(r[s],n));const i=BX(()=>t.apply(this,r));if(!e){if(i instanceof Ve){const s=Ps();return i.pipe(Ql(s.outsideAngular),Kl(s.insideAngular))}return Fs(()=>i)}return i instanceof Ve?i.pipe($X):i instanceof Promise?Fs(()=>new Promise((s,o)=>i.then(a=>Fs(()=>s(a)),a=>Fs(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Fs(()=>i)};class va{constructor(e){return e}}class EI{constructor(){return EO()}}const DI=new V("angularfire2._apps"),qX={provide:va,useFactory:function GX(t){return t&&1===t.length?t[0]:new va(Ov())},deps:[[new Bt,DI]]},zX={provide:EI,deps:[[new Bt,DI]]};function WX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new va(r)}}let KX=(()=>{class t{constructor(n){He("angularfire",wf.full,"core"),He("angularfire",wf.full,"app"),He("angular",MS.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(U(eh))},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({providers:[qX,zX]}),t})();function QX(t,...e){return{ngModule:KX,providers:[{provide:DI,useFactory:WX(t),multi:!0,deps:[Pe,en,II,...e]}]}}const YX=Ls(IO,!0),TP=new Map,ZX={activated:!1,tokenObservers:[]},XX={initialized:!1,enabled:!1};function wt(t){return TP.get(t)||ZX}function Qn(t,e){TP.set(t,e)}function If(){return XX}class rJ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new af,yield function iJ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new af,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const on=new Tr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AP(t){if(!wt(t).activated)throw on.create("use-before-activation",{appName:t.name})}function TI(t,e){return SI.apply(this,arguments)}function SI(){return(SI=g(function*({url:t,body:e},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,c;try{u=yield fetch(t,a)}catch(f){throw on.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw on.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw on.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function uJ(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Sc="firebase-app-check-store";let bf=null;function MP(){return bf||(bf=new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{t(i.target.result)},r.onerror=i=>{var s;e(on.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sc,{keyPath:"compositeKey"})}}catch(r){e(on.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),bf)}function AI(){return(AI=g(function*(t,e){const r=(yield MP()).transaction(Sc,"readwrite"),s=r.objectStore(Sc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(on.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Ac=new ha("@firebase/app-check");function NI(t,e){return Ss()?function hJ(t,e){return function NP(t,e){return AI.apply(this,arguments)}(function kP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ac.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function OP(){return If().enabled}function PP(){return kI.apply(this,arguments)}function kI(){return(kI=g(function*(){const t=If();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _J={error:"UNKNOWN_ERROR"};function vJ(t){return _v.encodeString(JSON.stringify(t),!1)}function Cf(t){return OI.apply(this,arguments)}function OI(){return(OI=g(function*(t,e=!1){const n=t.app;AP(n);const r=wt(n);let s,i=r.token;if(i&&!wa(i)&&(Qn(n,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(wa(u)?i=u:yield NI(n,void 0))}if(!e&&i&&wa(i))return{token:i.token};let a,o=!1;if(OP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=TI(uJ(n,yield PP()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield NI(n,u),Qn(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Ac.warn(u.message):Ac.error(u),s=u}return i?s?a=wa(i)?{token:i.token,internalError:s}:VP(s):(a={token:i.token},Qn(n,Object.assign(Object.assign({},r),{token:i})),yield NI(n,i)):a=VP(s),o&&LP(n,a),a})).apply(this,arguments)}function FI(t,e){const n=wt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Qn(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function FP(t){const{app:e}=t,n=wt(e);let r=n.tokenRefresher;r||(r=function wJ(t){const{app:e}=t;return new rJ(g(function*(){let r;if(r=wt(e).token?yield Cf(t,!0):yield Cf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=wt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),Qn(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function LP(t,e){const n=wt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function wa(t){return t.expireTimeMillis-Date.now()>0}function VP(t){return{token:vJ(_J),error:t}}class IJ{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=wt(this.app);for(const n of e)FI(this.app,n.next);return Promise.resolve()}}const zP="app-check-internal";!function PJ(){sn(new qt("app-check",t=>function EJ(t,e){return new IJ(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(zP).initialize()})),sn(new qt(zP,t=>function DJ(t){return{getToken:e=>Cf(t,e),addTokenListener:e=>function PI(t,e,n,r){const{app:i}=t,s=wt(i),o={next:n,error:r,type:e};if(Qn(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&wa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),FP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>FP(t))}(t,"INTERNAL",e),removeTokenListener:e=>FI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),He("@firebase/app-check","0.5.13")}();class BI{constructor(){return wI("app-check")}}typeof window<"u"&&window;const BJ=function KP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},QP=new Tr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),YP=new ha("@firebase/auth");function Sf(t,...e){YP.logLevel<=le.ERROR&&YP.error(`Auth (${pa}): ${t}`,...e)}function _n(t,...e){throw jI(t,...e)}function Sr(t,...e){return jI(t,...e)}function ZP(t,e,n){const r=Object.assign(Object.assign({},BJ()),{[e]:n});return new Tr("auth","Firebase",r).create(e,{appName:t.name})}function jI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QP.create(t,...e)}function x(t,e,...n){if(!t)throw jI(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Vi(t,e){t||Ar(e)}const XP=new Map;function ai(t){Vi(t instanceof Function,"Expected a class definition");let e=XP.get(t);return e?(Vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XP.set(t,e),e)}function xc(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function JP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vi(n>e,"Short delay should be less than long delay!"),this.isMobile=function N9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}()||function k9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function HJ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function HI(){return"http:"===JP()||"https:"===JP()}()||vv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function GI(t,e){Vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class eF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zJ=new Mc(3e4,6e4);function ft(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function It(t,e,n,r){return qI.apply(this,arguments)}function qI(){return(qI=g(function*(t,e,n,r,i={}){return tF(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=lf(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),eF.fetch()(nF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function tF(t,e,n){return zI.apply(this,arguments)}function zI(){return(zI=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qJ),e);try{const i=new WJ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Nc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Nc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Nc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZP(t,l,c);_n(t,l)}}catch(i){if(i instanceof Kn)throw i;_n(t,"network-request-failed")}})).apply(this,arguments)}function ui(t,e,n,r){return WI.apply(this,arguments)}function WI(){return(WI=g(function*(t,e,n,r,i={}){const s=yield It(t,e,n,r,i);return"mfaPendingCredential"in s&&_n(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function nF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?GI(t.config,i):`${t.config.apiScheme}://${i}`}class WJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),zJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(t,e,r);return i.customData._tokenResponse=n,i}function KI(){return(KI=g(function*(t,e){return It(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function YJ(t,e){return YI.apply(this,arguments)}function YI(){return(YI=g(function*(t,e){return It(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ZI(){return(ZI=g(function*(t,e=!1){const n=mn(t),r=yield n.getIdToken(e),i=Af(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Rc(XI(i.auth_time)),issuedAtTime:Rc(XI(i.iat)),expirationTime:Rc(XI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function XI(t){return 1e3*Number(t)}function Af(t){var e;const[n,r,i]=t.split(".");if(void 0===n||void 0===r||void 0===i)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const s=sf(r);return s?JSON.parse(s):(Sf("Failed to decode base64 JWT payload"),null)}catch(s){return Sf("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function ci(t,e){return JI.apply(this,arguments)}function JI(){return(JI=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Kn&&JJ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function JJ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class eee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){var n;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(n=r)||void 0===n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class rF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kc(t){return eE.apply(this,arguments)}function eE(){return(eE=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ci(t,YJ(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?ree(s.providerUserInfo):[],a=nee(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function tE(){return(tE=g(function*(t){const e=mn(t);yield kc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function nee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ree(t){return t.map(e=>{var{providerId:n}=e,r=jT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function nE(){return(nE=g(function*(t,e){const n=yield tF(t,{},g(function*(){const r=lf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nF(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function XJ(t){const e=Af(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function iee(t,e){return nE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Oc;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oc,this.toJSON())}_performRefresh(){return Ar("not implemented")}}function Ui(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield ci(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function ZJ(t){return ZI.apply(this,arguments)}(this,e)}reload(){return function tee(t){return tE.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield kc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield ci(e,function KJ(t,e){return KI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:S,isAnonymous:O,providerData:F,stsTokenManager:we}=n;x(_&&we,e,"internal-error");const hr=Oc.fromJSON(this.name,we);x("string"==typeof _,e,"internal-error"),Ui(d,e.name),Ui(h,e.name),x("boolean"==typeof S,e,"internal-error"),x("boolean"==typeof O,e,"internal-error"),Ui(f,e.name),Ui(p,e.name),Ui(m,e.name),Ui(y,e.name),Ui(I,e.name),Ui(E,e.name);const fo=new Vs({uid:_,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:hr,createdAt:I,lastLoginAt:E});return F&&Array.isArray(F)&&(fo.providerData=F.map(jl=>Object.assign({},jl))),y&&(fo._redirectEventId=y),fo}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Oc;i.updateFromServerResponse(n);const s=new Vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kc(s),s})()}}const iF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function xf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xf(this.userKey,i.apiKey,s),this.fullPersistenceKey=xf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Vs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Ea(ai(iF),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ai(iF);const o=xf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Vs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ea(s,e,r)):new Ea(s,e,r)})()}}function sF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lF(e))return"Blackberry";if(dF(e))return"Webos";if(rE(e))return"Safari";if((e.includes("chrome/")||aF(e))&&!e.includes("edge/"))return"Chrome";if(cF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function oF(t=vt()){return/firefox\//i.test(t)}function rE(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aF(t=vt()){return/crios\//i.test(t)}function uF(t=vt()){return/iemobile/i.test(t)}function cF(t=vt()){return/android/i.test(t)}function lF(t=vt()){return/blackberry/i.test(t)}function dF(t=vt()){return/webos/i.test(t)}function Mf(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hF(t=vt()){return Mf(t)||cF(t)||dF(t)||lF(t)||/windows phone/i.test(t)||uF(t)}function fF(t,e=[]){let n;switch(t){case"Browser":n=sF(vt());break;case"Worker":n=`${sF(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${r}`}class uee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){var r;if(n.auth.currentUser===e)return;const i=[];try{for(const s of n.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class cee{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pF(this),this.idTokenSubscription=new pF(this),this.beforeStateQueue=new uee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ea.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){var r;try{yield kc(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function GJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?mn(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(ai(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&ai(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield Ea.create(n,[ai(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function vn(t){return mn(t)}class pF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function q9(t,e){const n=new z9(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class yF{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}function sE(){return(sE=g(function*(t,e){return It(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function aE(){return(aE=g(function*(t,e){return ui(t,"POST","/v1/accounts:signInWithPassword",ft(t,e))})).apply(this,arguments)}function fE(){return(fE=g(function*(t,e){return ui(t,"POST","/v1/accounts:signInWithEmailLink",ft(t,e))})).apply(this,arguments)}function pE(){return(pE=g(function*(t,e){return ui(t,"POST","/v1/accounts:signInWithEmailLink",ft(t,e))})).apply(this,arguments)}class Pc extends yF{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function pee(t,e){return aE.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function vee(t,e){return fE.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:_n(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function vF(t,e){return sE.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function wee(t,e){return pE.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:_n(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function li(t,e){return gE.apply(this,arguments)}function gE(){return(gE=g(function*(t,e){return ui(t,"POST","/v1/accounts:signInWithIdp",ft(t,e))})).apply(this,arguments)}class Vc{constructor(e){var n,r,i,s,o,a;const u=Ec(Dc(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function See(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);x(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Aee(t){const e=Ec(Dc(t)).link,n=e?Ec(Dc(e)).deep_link_id:null,r=Ec(Dc(t)).deep_link_id;return(r?Ec(Dc(r)).link:null)||r||n||e||t}(e);try{return new Vc(n)}catch{return null}}}let wF=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Vc.parseLink(r);return x(i,"argument-error"),Pc._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Bi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xee extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function IF(t,e){return IE.apply(this,arguments)}function IE(){return(IE=g(function*(t,e){return ui(t,"POST","/v1/accounts:signUp",ft(t,e))})).apply(this,arguments)}class Yn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Vs._fromIdTokenResponse(e,r,i),o=EF(r);return new Yn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=EF(r);return new Yn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function EF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class kf extends Kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kf(e,n,r,i)}}function DF(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?kf._fromErrorAndOperation(t,s,e,r):s})}function bE(t,e){return CE.apply(this,arguments)}function CE(){return(CE=g(function*(t,e,n=!1){const r=yield ci(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Yn._forOperation(t,"link",r)})).apply(this,arguments)}function SE(){return(SE=g(function*(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=yield ci(t,DF(i,s,e,t),n);x(o.idToken,i,"internal-error");const a=Af(o.idToken);x(a,i,"internal-error");const{sub:u}=a;return x(t.uid===u,i,"user-mismatch"),Yn._forOperation(t,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&_n(i,"user-mismatch"),o}})).apply(this,arguments)}function TF(t,e){return AE.apply(this,arguments)}function AE(){return(AE=g(function*(t,e,n=!1){const r="signIn",i=yield DF(t,r,e),s=yield Yn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function ME(){return(ME=g(function*(t,e){return TF(vn(t),e)})).apply(this,arguments)}function Fee(t,e,n){return jE.apply(this,arguments)}function jE(){return(jE=g(function*(t,e,n){const r=vn(t),i=yield IF(r,{returnSecureToken:!0,email:e,password:n}),s=yield Yn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Lee(t,e,n){return function xE(t,e){return ME.apply(this,arguments)}(mn(t),wF.credential(e,n))}const Ff="__sak";class AF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jee=(()=>{class t extends AF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yee(){const t=vt();return rE(t)||Mf(t)}()&&function aee(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function oee(){return function O9(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),xF=(()=>{class t extends AF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let tte=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function ete(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function rD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class nte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=rD("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function pt(){return window}function iD(){return typeof pt().WorkerGlobalScope<"u"&&"function"==typeof pt().importScripts}function sD(){return(sD=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const MF="firebaseLocalStorageDb",Lf="firebaseLocalStorage",NF="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vf(t,e){return t.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function oD(){const t=indexedDB.open(MF,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lf,{keyPath:NF})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Lf)?e(r):(r.close(),yield function ute(){const t=indexedDB.deleteDatabase(MF);return new Bc(t).toPromise()}(),e(yield oD()))}))})}function RF(t,e,n){return aD.apply(this,arguments)}function aD(){return(aD=g(function*(t,e,n){const r=Vf(t,!0).put({[NF]:e,value:n});return new Bc(r).toPromise()})).apply(this,arguments)}function uD(){return(uD=g(function*(t,e){const n=Vf(t,!1).get(e),r=yield new Bc(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function kF(t,e){const n=Vf(t,!0).delete(e);return new Bc(n).toPromise()}const hte=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield oD()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return iD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=tte._getInstance(function ote(){return iD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function ite(){return sD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new nte(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function ste(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield oD();return yield RF(n,Ff,"1"),yield kF(n,Ff),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>RF(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function cte(t,e){return uD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>kF(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Vf(o,!1).getAll();return new Bc(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function PF(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Bs(t,e){return e?ai(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}PF("rcb"),new Mc(3e4,6e4);class _D extends yF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return li(e,this._buildIdpRequest())}_linkToIdToken(e,n){return li(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return li(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xte(t){return TF(t.auth,new _D(t),t.bypassAuthState)}function Mte(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function CF(t,e){return SE.apply(this,arguments)}(n,new _D(t),t.bypassAuthState)}function Nte(t){return vD.apply(this,arguments)}function vD(){return(vD=g(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),bE(n,new _D(t),t.bypassAuthState)})).apply(this,arguments)}new Mc(2e3,1e4);const $c=new Map;class Ote extends class Rte{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xte;case"linkViaPopup":case"linkViaRedirect":return Nte;case"reauthViaPopup":case"reauthViaRedirect":return Mte;default:_n(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=$c.get(n.auth._key());if(!r){try{const s=(yield function Pte(t,e){return bD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}$c.set(n.auth._key(),r)}return n.bypassAuthState||$c.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function bD(){return(bD=g(function*(t,e){const n=VF(e),r=LF(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Fte(t,e){$c.set(t._key(),e)}function LF(t){return ai(t._redirectPersistence)}function VF(t){return xf("pendingRedirect",t.config.apiKey,t.name)}function UF(t,e){return ND.apply(this,arguments)}function ND(){return(ND=g(function*(t,e,n=!1){const r=vn(t),i=Bs(r,e),o=yield new Ote(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class $te{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function jte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jF(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($F(e))}saveEventToCache(e){this.cachedEventUids.add($F(e)),this.lastProcessedEventTime=Date.now()}}function $F(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jF({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Hte(t){return kD.apply(this,arguments)}function kD(){return(kD=g(function*(t,e={}){return It(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Gte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qte=/^https?/;function OD(){return(OD=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield Hte(t);for(const n of e)try{if(Wte(n))return}catch{}_n(t,"unauthorized-domain")})).apply(this,arguments)}function Wte(t){const e=xc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!qte.test(n))return!1;if(Gte.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kte=new Mc(3e4,6e4);function HF(){const t=pt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Bf=null;function Yte(t){return Bf=Bf||function Qte(t){return new Promise((e,n)=>{var r,i,s;function o(){HF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HF(),n(Sr(t,"network-request-failed"))},timeout:Kte.get()})}if(null!==(i=null===(r=pt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=pt().gapi)||void 0===s||!s.load){const a=PF("iframefcb");return pt()[a]=()=>{gapi.load?o():n(Sr(t,"network-request-failed"))},function OF(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Sr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function mte(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Bf=null,e})}(t),Bf}const Zte=new Mc(5e3,15e3),ene={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nne(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?GI(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:pa},i=tne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${lf(r).slice(1)}`}function PD(){return PD=g(function*(t){const e=yield Yte(t),n=pt().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:nne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ene,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Sr(t,"network-request-failed"),u=pt().setTimeout(()=>{o(a)},Zte.get());function c(){pt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),PD.apply(this,arguments)}const ine={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class GF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qF(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pa,eventId:i};if(e instanceof Bi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function G9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof xee){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function fne({config:t}){return t.emulator?GI(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${lf(a).slice(1)}`}const FD="webStorageSupport",gne=class pne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xF,this._completeRedirectFn=UF,this._overrideRedirectResult=Fte}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Vi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=qF(e,n,r,xc(),i);return function cne(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},ine),{width:r.toString(),height:i.toString(),top:s,left:o}),c=vt().toLowerCase();n&&(a=aF(c)?"_blank":n),oF(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function see(t=vt()){var e;return Mf(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function lne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new GF(null);const d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new GF(d)}(e,a,rD())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function rte(t){pt().location.href=t}(qF(e,n,r,xc(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function rne(t){return PD.apply(this,arguments)}(e),i=new $te(e);return r.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(FD,{type:FD},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[FD];void 0!==o&&n(!!o),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function zte(t){return OD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hF()||rE()||Mf()}};var WF="@firebase/auth";class mne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wne=dO("authIdTokenMaxAge")||300;let QF=null;const Ine=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>wne)return;const s=r?.token;QF!==s&&(QF=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Ene(t=Ov()){const e=fa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function $J(t,e){const n=fa(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(cf(n.getOptions(),e??{}))return i;_n(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:gne,persistence:[hte,Jee,xF]}),r=dO("authTokenSyncURL");if(r){const s=Ine(r);(function zee(t,e,n){mn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function qee(t,e,n,r){mn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=lO("auth");return i&&function lee(t,e,n){const r=vn(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=gF(e),{host:o,port:a}=function dee(t){const e=gF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:mF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function hee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function _ne(t){sn(new qt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{x(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),x(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fF(t)},l=new cee(a,u,c);return function jJ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ai);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sn(new qt("auth-internal",e=>{const n=vn(e.getProvider("auth").getImmediate());return new mne(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(WF,"0.20.8",function yne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),He(WF,"0.20.8","esm2017")}("Browser");class $f{constructor(e){return e}}class ZF{constructor(){return wI("auth")}}const LD=new V("angularfire2.auth-instances");function bne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $f(r)}}const Cne={provide:ZF,deps:[[new Bt,LD]]},Tne={provide:$f,useFactory:function Dne(t,e){const n=vI("auth",t,e);return n&&new $f(n)},deps:[[new Bt,LD],va]};let Sne=(()=>{class t{constructor(){He("angularfire",wf.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({providers:[Tne,Cne]}),t})();function Ane(t,...e){return{ngModule:Sne,providers:[{provide:LD,useFactory:bne(t),multi:!0,deps:[Pe,en,II,EI,[new Bt,BI],...e]}]}}const xne=Ls(Fee,!0),Mne=Ls(Ene,!0),Nne=Ls(Lee,!0);var L,Rne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={},VD=VD||{},Q=Rne||self;function jf(){}function Hf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function jc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var UD="closure_uid_"+(1e9*Math.random()>>>0),One=0;function Pne(t,e,n){return t.call.apply(t.bind,arguments)}function Fne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function zt(t,e,n){return(zt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pne:Fne).apply(null,arguments)}function Gf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $i(){this.s=this.s,this.o=this.o}var Vne={};$i.prototype.s=!1,$i.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function kne(t){return Object.prototype.hasOwnProperty.call(t,UD)&&t[UD]||(t[UD]=++One)}(this);delete Vne[t]}},$i.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function BD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function JF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wt.prototype.h=function(){this.defaultPrevented=!0};var Une=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",jf,e),Q.removeEventListener("test",jf,e)}catch{}return t}();function qf(t){return/^[\s\xa0]*$/.test(t)}var eL=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $D(t,e){return t<e?-1:t>e?1:0}function zf(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function xr(t){return-1!=zf().indexOf(t)}function jD(t){return jD[" "](t),t}jD[" "]=jf;var Wf,t,$ne=xr("Opera"),Da=xr("Trident")||xr("MSIE"),tL=xr("Edge"),HD=tL||Da,nL=xr("Gecko")&&!(-1!=zf().toLowerCase().indexOf("webkit")&&!xr("Edge"))&&!(xr("Trident")||xr("MSIE"))&&!xr("Edge"),jne=-1!=zf().toLowerCase().indexOf("webkit")&&!xr("Edge");function rL(){var t=Q.document;return t?t.documentMode:void 0}e:{var GD="",qD=(t=zf(),nL?/rv:([^\);]+)(\)|;)/.exec(t):tL?/Edge\/([\d\.]+)/.exec(t):Da?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):jne?/WebKit\/(\S+)/.exec(t):$ne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(qD&&(GD=qD?qD[1]:""),Da){var zD=rL();if(null!=zD&&zD>parseFloat(GD)){Wf=String(zD);break e}}Wf=GD}var Hne={};var qne=Q.document&&Da&&(rL()||parseInt(Wf,10))||void 0;function Hc(t,e){if(Wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(nL){e:{try{jD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:zne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Hc.X.h.call(this)}}Rt(Hc,Wt);var zne={2:"touch",3:"pen",4:"mouse"};Hc.prototype.h=function(){Hc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gc="closure_listenable_"+(1e6*Math.random()|0),Wne=0;function Kne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Wne,this.ba=this.ea=!1}function Kf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function KD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sL(t){const e={};for(const n in t)e[n]=t[n];return e}const oL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<oL.length;s++)n=oL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qf(t){this.src=t,this.g={},this.h=0}function QD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=XF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Kf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function YD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}Qf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=YD(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new Kne(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var ZD="closure_lm_"+(1e6*Math.random()|0),XD={};function uL(t,e,n,r,i){if(r&&r.once)return lL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uL(t,e[s],n,r,i);return null}return n=nb(n),t&&t[Gc]?t.N(e,n,jc(r)?!!r.capture:!!r,i):cL(t,e,n,!1,r,i)}function cL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=jc(i)?!!i.capture:!!i,a=eb(t);if(a||(t[ZD]=a=new Qf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Qne(){const e=Yne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Une||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function lL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lL(t,e[s],n,r,i);return null}return n=nb(n),t&&t[Gc]?t.O(e,n,jc(r)?!!r.capture:!!r,i):cL(t,e,n,!0,r,i)}function dL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dL(t,e[s],n,r,i);else r=jc(r)?!!r.capture:!!r,n=nb(n),t&&t[Gc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=YD(s=t.g[e],n,r,i))&&(Kf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=eb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=YD(e,n,r,i)),(n=-1<t?e[t]:null)&&JD(n))}function JD(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Gc])QD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=eb(e))?(QD(n,t),0==n.h&&(n.src=null,e[ZD]=null)):Kf(t)}}}function hL(t){return t in XD?XD[t]:XD[t]="on"+t}function Yne(t,e){if(t.ba)t=!0;else{e=new Hc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&JD(t),t=n.call(r,e)}return t}function eb(t){return(t=t[ZD])instanceof Qf?t:null}var tb="__closure_events_fn_"+(1e9*Math.random()>>>0);function nb(t){return"function"==typeof t?t:(t[tb]||(t[tb]=function(e){return t.handleEvent(e)}),t[tb])}function Et(){$i.call(this),this.i=new Qf(this),this.P=this,this.I=null}function kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Wt(e,t);else if(e instanceof Wt)e.target=e.target||t;else{var i=e;aL(e=new Wt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Yf(o,r,!0,e)&&i}if(i=Yf(o=e.g=t,r,!0,e)&&i,i=Yf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Yf(o=e.g=n[s],r,!1,e)&&i}function Yf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&QD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(Et,$i),Et.prototype[Gc]=!0,Et.prototype.removeEventListener=function(t,e,n,r){dL(this,t,e,n,r)},Et.prototype.M=function(){if(Et.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kf(n[r]);delete t.g[e],t.h--}}this.I=null},Et.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var rb=Q.JSON.stringify;function Zne(){var t=gL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ib,fL=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Jne,t=>t.reset());class Jne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ere(t){Q.setTimeout(()=>{throw t},0)}function pL(t,e){ib||function tre(){var t=Q.Promise.resolve(void 0);ib=function(){t.then(nre)}}(),sb||(ib(),sb=!0),gL.add(t,e)}var sb=!1,gL=new class Xne{constructor(){this.h=this.g=null}add(e,n){const r=fL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function nre(){for(var t;t=Zne();){try{t.h.call(t.g)}catch(n){ere(n)}var e=fL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}sb=!1}function Zf(t,e){Et.call(this),this.h=t||1,this.g=e||Q,this.j=zt(this.kb,this),this.l=Date.now()}function ob(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function ab(t,e,n){if("function"==typeof t)n&&(t=zt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=zt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function mL(t){t.g=ab(()=>{t.g=null,t.i&&(t.i=!1,mL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Rt(Zf,Et),(L=Zf.prototype).ca=!1,L.R=null,L.kb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),kt(this,"tick"),this.ca&&(ob(this),this.start()))}},L.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.M=function(){Zf.X.M.call(this),ob(this),delete this.g};class rre extends $i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mL(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qc(t){$i.call(this),this.h=t,this.g={}}Rt(qc,$i);var yL=[];function _L(t,e,n,r){Array.isArray(n)||(n&&(yL[0]=n.toString()),n=yL);for(var i=0;i<n.length;i++){var s=uL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function vL(t){KD(t.g,function(e,n){this.g.hasOwnProperty(n)&&JD(e)},t),t.g={}}function Xf(){this.g=!0}function ba(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function are(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return rb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}qc.prototype.M=function(){qc.X.M.call(this),vL(this)},qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xf.prototype.Aa=function(){this.g=!1},Xf.prototype.info=function(){};var $s={},wL=null;function Jf(){return wL=wL||new Et}function IL(t){Wt.call(this,$s.Oa,t)}function zc(t){const e=Jf();kt(e,new IL(e,t))}function EL(t,e){Wt.call(this,$s.STAT_EVENT,t),this.stat=e}function an(t){const e=Jf();kt(e,new EL(e,t))}function DL(t,e){Wt.call(this,$s.Pa,t),this.size=e}function Wc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}$s.Oa="serverreachability",Rt(IL,Wt),$s.STAT_EVENT="statevent",Rt(EL,Wt),$s.Pa="timingevent",Rt(DL,Wt);var ep={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},bL={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ub(){}function TL(){}ub.prototype.h=null;var db,Kc={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function cb(){Wt.call(this,"d")}function lb(){Wt.call(this,"c")}function tp(){}function Qc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new qc(this),this.O=ure,this.T=new Zf(t=HD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new SL}function SL(){this.i=null,this.g="",this.h=!1}Rt(cb,Wt),Rt(lb,Wt),Rt(tp,ub),tp.prototype.g=function(){return new XMLHttpRequest},tp.prototype.i=function(){return{}},db=new tp;var ure=45e3,hb={},np={};function fb(t,e,n){t.K=1,t.v=op(hi(e)),t.s=n,t.P=!0,AL(t,null)}function AL(t,e){t.F=Date.now(),Yc(t),t.A=hi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),VL(n.i,"t",r),t.C=0,n=t.l.H,t.h=new SL,t.g=uV(t.l,n?e:null,!t.s),0<t.N&&(t.L=new rre(zt(t.Ka,t,t.g),t.N)),_L(t.S,t.g,"readystatechange",t.hb),e=t.H?sL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),zc(1),function ire(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function xL(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function ML(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=cre(t,n),i==np){4==e&&(t.o=4,an(14),r=!1),ba(t.j,t.m,null,"[Incomplete Response]");break}if(i==hb){t.o=4,an(15),ba(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ba(t.j,t.m,i,null),pb(t,i)}xL(t)&&i!=np&&i!=hb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,an(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Eb(e),e.K=!0,an(11))):(ba(t.j,t.m,n,"[Invalid Chunked Response]"),js(t),Zc(t))}function cre(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?np:(n=Number(e.substring(n,r)),isNaN(n)?hb:(r+=1)+n>e.length?np:(e=e.substr(r,n),t.C=r+n,e))}function Yc(t){t.V=Date.now()+t.O,NL(t,t.O)}function NL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Wc(zt(t.fb,t),e)}function rp(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function Zc(t){0==t.l.G||t.I||iV(t.l,t)}function js(t){rp(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ob(t.T),vL(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function pb(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||gb(n.h,t)))if(!t.J&&gb(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;hp(n),lp(n)}Ib(n),an(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Wc(zt(n.bb,n),6e3));if(1>=$L(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Gs(n,11)}else if((t.J||n.g==t)&&hp(n),!qf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(mb(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,ke(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=aV(r,r.H?r.ka:null,r.V),o.J){jL(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(rp(a),Yc(a)),r.g=o}else nV(r);0<n.i.length&&dp(n)}else"stop"!=c[0]&&"close"!=c[0]||Gs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Gs(n,7):wb(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}zc(4)}catch{}}function RL(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Hf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function dre(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function lre(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Hf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(L=Qc.prototype).setTimeout=function(t){this.O=t},L.hb=function(t){t=t.target;const e=this.L;e&&3==fi(t)?e.l():this.Ka(t)},L.Ka=function(t){try{if(t==this.g)e:{const l=fi(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>l)&&(3!=l||HD||this.g&&(this.h.h||this.g.fa()||YL(this.g)))){this.I||4!=l||7==e||zc(8==e||0>=d?3:2),rp(this);var n=this.g.aa();this.Y=n;t:if(xL(this)){var r=YL(this.g);t="";var i=r.length,s=4==fi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){js(this),Zc(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function sre(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,an(12),js(this),Zc(this);break e}ba(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pb(this,n)}this.P?(ML(this,l,o),HD&&this.i&&3==l&&(_L(this.S,this.T,"tick",this.gb),this.T.start())):(ba(this.j,this.m,o,null),pb(this,o)),4==l&&js(this),this.i&&!this.I&&(4==l?iV(this.l,this):(this.i=!1,Yc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,an(12)):(this.o=0,an(13)),js(this),Zc(this)}}}catch{}},L.gb=function(){if(this.g){var t=fi(this.g),e=this.g.fa();this.C<e.length&&(rp(this),ML(this,t,e),this.i&&4!=t&&Yc(this))}},L.cancel=function(){this.I=!0,js(this)},L.fb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function ore(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zc(3),an(17)),js(this),this.o=2,Zc(this)):NL(this,this.V-t)};var kL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Hs){this.h=void 0!==e?e:t.h,ip(this,t.j),this.s=t.s,this.g=t.g,sp(this,t.m),this.l=t.l,e=t.i;var n=new el;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),OL(this,n),this.o=t.o}else t&&(n=String(t).match(kL))?(this.h=!!e,ip(this,n[1]||"",!0),this.s=Xc(n[2]||""),this.g=Xc(n[3]||"",!0),sp(this,n[4]),this.l=Xc(n[5]||"",!0),OL(this,n[6]||"",!0),this.o=Xc(n[7]||"")):(this.h=!!e,this.i=new el(null,this.h))}function hi(t){return new Hs(t)}function ip(t,e,n){t.j=n?Xc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function sp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function OL(t,e,n){e instanceof el?(t.i=e,function _re(t,e){e&&!t.j&&(ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(FL(this,r),VL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Jc(e,mre)),t.i=new el(e,t.h))}function ke(t,e,n){t.i.set(e,n)}function op(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,fre),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fre(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Hs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Jc(e,PL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Jc(e,PL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Jc(n,"/"==n.charAt(0)?gre:pre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Jc(n,yre)),t.join("")};var PL=/[#\/\?@]/g,pre=/[#\?:]/g,gre=/[#\?]/g,mre=/[#\?@]/g,yre=/#/g;function el(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ji(t){t.g||(t.g=new Map,t.h=0,t.i&&function hre(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function FL(t,e){ji(t),e=Ca(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function LL(t,e){return ji(t),e=Ca(t,e),t.g.has(e)}function VL(t,e,n){FL(t,e),0<n.length&&(t.i=null,t.g.set(Ca(t,e),BD(n)),t.h+=n.length)}function Ca(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function UL(t){this.l=t||wre,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=el.prototype).add=function(t,e){ji(this),this.i=null,t=Ca(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},L.forEach=function(t,e){ji(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},L.oa=function(){ji(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},L.W=function(t){ji(this);let e=[];if("string"==typeof t)LL(this,t)&&(e=e.concat(this.g.get(Ca(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},L.set=function(t,e){return ji(this),this.i=null,LL(this,t=Ca(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},L.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var wre=10;function BL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $L(t){return t.h?1:t.g?t.g.size:0}function gb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function mb(t,e){t.g?t.g.add(e):t.h=e}function jL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function HL(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return BD(t.i)}function yb(){}function Ire(){this.g=new yb}function Ere(t,e,n){const r=n||"";try{RL(t,function(i,s){let o=i;jc(i)&&(o=rb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ap(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function tl(t){this.l=t.$b||null,this.j=t.ib||!1}function up(t,e){Et.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=_b,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}UL.prototype.cancel=function(){if(this.i=HL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},yb.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)},yb.prototype.parse=function(t){return Q.JSON.parse(t,void 0)},Rt(tl,ub),tl.prototype.g=function(){return new up(this.l,this.j)},tl.prototype.i=function(t){return function(){return t}}({}),Rt(up,Et);var _b=0;function GL(t){t.j.read().then(t.Sa.bind(t)).catch(t.ga.bind(t))}function nl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rl(t)}function rl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(L=up.prototype).open=function(t,e){if(this.readyState!=_b)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rl(this)},L.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Q).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nl(this)),this.readyState=_b},L.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GL(this)}else t.text().then(this.Ua.bind(this),this.ga.bind(this))},L.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?nl(this):rl(this),3==this.readyState&&GL(this)}},L.Ua=function(t){this.g&&(this.response=this.responseText=t,nl(this))},L.Ta=function(t){this.g&&(this.response=t,nl(this))},L.ga=function(){this.g&&nl(this)},L.setRequestHeader=function(t,e){this.v.append(t,e)},L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(up.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var bre=Q.JSON.parse;function it(t){Et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qL,this.K=this.L=!1}Rt(it,Et);var qL="",Cre=/^https?$/i,Tre=["POST","PUT"];function zL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WL(t),cp(t)}function WL(t){t.D||(t.D=!0,kt(t,"complete"),kt(t,"error"))}function KL(t){if(t.h&&typeof VD<"u"&&(!t.C[1]||4!=fi(t)||2!=t.aa()))if(t.v&&4==fi(t))ab(t.Ha,0,t);else if(kt(t,"readystatechange"),4==fi(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(kL)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!Cre.test(i?i.toLowerCase():"")}n=r}if(n)kt(t,"complete"),kt(t,"success");else{t.m=6;try{var o=2<fi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",WL(t)}}finally{cp(t)}}}function cp(t,e){if(t.g){QL(t);const n=t.g,r=t.C[0]?jf:null;t.g=null,t.C=null,e||kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function QL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function fi(t){return t.g?t.g.readyState:0}function YL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ZL(t){let e="";return KD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function vb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ke(t,e,n))}function il(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XL(t){this.Ca=0,this.i=[],this.j=new Xf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=il("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=il("baseRetryDelayMs",5e3,t),this.ab=il("retryDelaySeedMs",1e4,t),this.Za=il("forwardChannelMaxRetries",2,t),this.ta=il("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Yb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new UL(t&&t.concurrentRequestLimit),this.Fa=new Ire,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=t&&t.Wb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wb(t){if(JL(t),3==t.G){var e=t.U++,n=hi(t.F);ke(n,"SID",t.I),ke(n,"RID",e),ke(n,"TYPE","terminate"),sl(t,n),(e=new Qc(t,t.j,e,void 0)).K=2,e.v=op(hi(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=uV(e.l,null),e.g.da(e.v)),e.F=Date.now(),Yc(e)}oV(t)}function lp(t){t.g&&(Eb(t),t.g.cancel(),t.g=null)}function JL(t){lp(t),t.u&&(Q.clearTimeout(t.u),t.u=null),hp(t),t.h.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function dp(t){BL(t.h)||t.m||(t.m=!0,pL(t.Ja,t),t.C=0)}function eV(t,e){var n;n=e?e.m:t.U++;const r=hi(t.F);ke(r,"SID",t.I),ke(r,"RID",n),ke(r,"AID",t.T),sl(t,r),t.o&&t.s&&vb(r,t.o,t.s),n=new Qc(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=tV(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),mb(t.h,n),fb(n,r,e)}function sl(t,e){t.ia&&KD(t.ia,function(n,r){ke(e,r,n)}),t.l&&RL({},function(n,r){ke(e,r,n)})}function tV(t,e,n){n=Math.min(t.i.length,n);var r=t.l?zt(t.l.Qa,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Ere(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function nV(t){t.g||t.u||(t.Z=1,pL(t.Ia,t),t.A=0)}function Ib(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=Wc(zt(t.Ia,t),sV(t,t.A)),t.A++,0))}function Eb(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function rV(t){t.g=new Qc(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=hi(t.sa);ke(e,"RID","rpc"),ke(e,"SID",t.I),ke(e,"CI",t.L?"0":"1"),ke(e,"AID",t.T),ke(e,"TYPE","xmlhttp"),sl(t,e),t.o&&t.s&&vb(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=op(hi(e)),n.s=null,n.P=!0,AL(n,t)}function hp(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function iV(t,e){var n=null;if(t.g==e){hp(t),Eb(t),t.g=null;var r=2}else{if(!gb(t.h,e))return;n=e.D,jL(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;kt(r=Jf(),new DL(r,n,e,i)),dp(t)}else nV(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function Are(t,e){return!($L(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Ya?0:t.Za)||(t.m=Wc(zt(t.Ja,t,e),sV(t,t.C)),t.C++,0)))}(t,e)||2==r&&Ib(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Gs(t,5);break;case 4:Gs(t,10);break;case 3:Gs(t,6);break;default:Gs(t,2)}}function sV(t,e){let n=t.Wa+Math.floor(Math.random()*t.ab);return t.l||(n*=2),n*e}function Gs(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=zt(t.jb,t);n||(n=new Hs("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||ip(n,"https"),op(n)),function Dre(t,e){const n=new Xf;if(Q.Image){const r=new Image;r.onload=Gf(ap,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gf(ap,n,r,"TestLoadImage: error",!1,e),r.onabort=Gf(ap,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gf(ap,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else an(2);t.G=0,t.l&&t.l.va(e),oV(t),JL(t)}function oV(t){if(t.G=0,t.la=[],t.l){const e=HL(t.h);(0!=e.length||0!=t.i.length)&&(JF(t.la,e),JF(t.la,t.i),t.h.i.length=0,BD(t.i),t.i.length=0),t.l.ua()}}function aV(t,e,n){var r=n instanceof Hs?hi(n):new Hs(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),sp(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Hs(null,void 0);r&&ip(s,r),e&&(s.g=e),i&&sp(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&ke(r,n,e),ke(r,"VER",t.ma),sl(t,r),r}function uV(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new it(n&&t.Da&&!t.ra?new tl({ib:!0}):t.ra)).L=t.H,e}function cV(){}function fp(){if(Da&&!(10<=Number(qne)))throw Error("Environmental error: no available transport.")}function Pn(t,e){Et.call(this),this.g=new XL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Xb)&&!qf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ta(this)}function lV(t){cb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function dV(){lb.call(this),this.status=1}function Ta(t){this.g=t}(L=it.prototype).da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():db.g(),this.C=function CL(t){return t.h||(t.h=t.i())}(this.u?this.u:db),this.g.onreadystatechange=zt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void zL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=XF(Tre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{QL(this),0<this.B&&((this.K=function Sre(t){return Da&&function Gne(){return function Bne(t){var e=Hne;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=eL(String(Wf)).split("."),n=eL("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=$D(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||$D(0==i[2].length,0==s[2].length)||$D(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.qa,this)):this.A=ab(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zL(this,s)}},L.qa=function(){typeof VD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kt(this,"complete"),kt(this,"abort"),cp(this))},L.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cp(this,!0)),it.X.M.call(this)},L.Ha=function(){this.s||(this.F||this.v||this.l?KL(this):this.eb())},L.eb=function(){KL(this)},L.aa=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},L.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Ra=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bre(e)}},L.Ea=function(){return this.m},L.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=XL.prototype).ma=8,L.G=1,L.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Qc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=sL(s),aL(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=tV(this,i,e),ke(n=hi(this.F),"RID",t),ke(n,"CVER",22),this.D&&ke(n,"X-HTTP-Session-Id",this.D),sl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(ZL(s)))+"&"+e:this.o&&vb(n,this.o,s)),mb(this.h,i),this.Xa&&ke(n,"TYPE","init"),this.O?(ke(n,"$req",e),ke(n,"SID","null"),i.Z=!0,fb(i,n,null)):fb(i,n,e),this.G=2}}else 3==this.G&&(t?eV(this,t):0==this.i.length||BL(this.h)||eV(this))},L.Ia=function(){if(this.u=null,rV(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Wc(zt(this.cb,this),t)}},L.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,an(10),lp(this),rV(this))},L.bb=function(){null!=this.v&&(this.v=null,lp(this),Ib(this),an(19))},L.jb=function(t){t?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))},(L=cV.prototype).xa=function(){},L.wa=function(){},L.va=function(){},L.ua=function(){},L.Qa=function(){},fp.prototype.g=function(t,e){return new Pn(t,e)},Rt(Pn,Et),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=aV(t,null,t.V),dp(t)},Pn.prototype.close=function(){wb(this.g)},Pn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=rb(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.$a++,t)),3==e.G&&dp(e)},Pn.prototype.M=function(){this.g.l=null,delete this.j,wb(this.g),delete this.g,Pn.X.M.call(this)},Rt(lV,cb),Rt(dV,lb),Rt(Ta,cV),Ta.prototype.xa=function(){kt(this.g,"a")},Ta.prototype.wa=function(t){kt(this.g,new lV(t))},Ta.prototype.va=function(t){kt(this.g,new dV(t))},Ta.prototype.ua=function(){kt(this.g,"b")},fp.prototype.createWebChannel=fp.prototype.g,Pn.prototype.send=Pn.prototype.u,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,ep.NO_ERROR=0,ep.TIMEOUT=8,ep.HTTP_ERROR=6,bL.COMPLETE="complete",TL.EventType=Kc,Kc.OPEN="a",Kc.CLOSE="b",Kc.ERROR="c",Kc.MESSAGE="d",Et.prototype.listen=Et.prototype.N,it.prototype.listenOnce=it.prototype.O,it.prototype.getLastError=it.prototype.Na,it.prototype.getLastErrorCode=it.prototype.Ea,it.prototype.getStatus=it.prototype.aa,it.prototype.getResponseJson=it.prototype.Ra,it.prototype.getResponseText=it.prototype.fa,it.prototype.send=it.prototype.da;var xre=di.createWebChannelTransport=function(){return new fp},Mre=di.getStatEventTarget=function(){return Jf()},Db=di.ErrorCode=ep,Nre=di.EventType=bL,Rre=di.Event=$s,hV=di.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kre=di.FetchXmlHttpFactory=tl,pp=di.WebChannel=TL,Ore=di.XhrIo=it;const fV="@firebase/firestore";class Dt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");let Sa="9.11.0";const Hi=new ha("@firebase/firestore");function bb(){return Hi.logLevel}function T(t,...e){if(Hi.logLevel<=le.DEBUG){const n=e.map(Cb);Hi.debug(`Firestore (${Sa}): ${t}`,...n)}}function Qe(t,...e){if(Hi.logLevel<=le.ERROR){const n=e.map(Cb);Hi.error(`Firestore (${Sa}): ${t}`,...n)}}function Aa(t,...e){if(Hi.logLevel<=le.WARN){const n=e.map(Cb);Hi.warn(`Firestore (${Sa}): ${t}`,...n)}}function Cb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+t;throw Qe(e),new Error(e)}function H(t,e){t||P()}function N(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class pV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class Fre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lre{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new gt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(H("string"==typeof r.accessToken),new pV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return H(null===e||"string"==typeof e),new Dt(e)}}class Vre{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(H(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ure{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Vre(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bre{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(H("string"==typeof n.token),this.A=n.token,new gV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $re(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class mV{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$re(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function xa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Le{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Le(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new Le(0,0))}static max(){return new G(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ol{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ol.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends ol{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const jre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends ol{construct(e,n,r){return new Ye(e,n,r)}static isValidIdentifier(e){return jre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(n)}static emptyPath(){return new Ye([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(de.fromString(e))}static fromName(e){return new M(de.fromString(e).popFirst(5))}static empty(){return new M(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new de(e.slice()))}}function vV(t){return new Fn(t.readTime,t.key,-1)}class Fn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fn(G.min(),M.empty(),-1)}static max(){return new Fn(G.max(),M.empty(),-1)}}function Sb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const wV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Gi(t){return Ab.apply(this,arguments)}function Ab(){return Ab=g(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==wV)throw t;T("LocalStore","Unexpectedly lost primary lease")}),Ab.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function qi(t){return"IndexedDbTransactionError"===t.name}class wn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function EV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}wn.at=-1;class Ge{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _p(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _p(this.root,e,this.comparator,!1)}getReverseIterator(){return new _p(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _p(this.root,e,this.comparator,!0)}}class _p{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1,Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ve{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bV(this.data.getIterator())}getIteratorFrom(e){return new bV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ve(this.comparator);return n.data=e,n}}class bV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new ve(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new mt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const Yre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(H(!!t),"string"==typeof t){let e=0;const n=Yre.exec(t);if(H(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ks(t){return"string"==typeof t?mt.fromBase64String(t):mt.fromUint8Array(t)}function Mb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function CV(t){const e=t.mapValue.fields.__previous_value__;return Mb(e)?CV(e):e}function cl(t){const e=zi(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}class Zre{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Qs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qs&&e.projectId===this.projectId&&e.database===this.database}}function ll(t){return null==t}function dl(t){return 0===t&&1/t==-1/0}const Wi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mb(t)?4:MV(t)?9007199254740991:10:P()}function Mr(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=zi(r.timestampValue),o=zi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ks(t.bytesValue).isEqual(Ks(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return qe(r.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(r.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qe(r.integerValue)===qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=qe(r.doubleValue),o=qe(i.doubleValue);return s===o?dl(s)===dl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return xa(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(EV(s)!==EV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Mr(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function hl(t,e){return void 0!==(t.values||[]).find(n=>Mr(n,e))}function Ki(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=qe(i.integerValue||i.doubleValue),a=qe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return SV(t.timestampValue,e.timestampValue);case 4:return SV(cl(t),cl(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ks(i),a=Ks(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Y(o[u],a[u]);if(0!==c)return c}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(qe(i.latitude),qe(s.latitude));return 0!==o?o:Y(qe(i.longitude),qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Ki(o[u],a[u]);if(c)return c}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Wi_mapValue&&s===Wi_mapValue)return 0;if(i===Wi_mapValue)return 1;if(s===Wi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Y(a[l],c[l]);if(0!==d)return d;const h=Ki(o[a[l]],u[c[l]]);if(0!==h)return h}return Y(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function SV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=zi(t),r=zi(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function Na(t){return Nb(t)}function Nb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=zi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ks(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Nb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Nb(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function Rb(t){return!!t&&"integerValue"in t}function fl(t){return!!t&&"arrayValue"in t}function AV(t){return!!t&&"nullValue"in t}function xV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wp(t){return!!t&&"mapValue"in t}function pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=Ye.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=pl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ws(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Pt(pl(this.value))}}function kV(t){const e=[];return Ws(t.fields,(n,r)=>{const i=new Ye([n]);if(wp(r)){const s=kV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ln(e)}class Ae{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ae(e,0,G.min(),G.min(),Pt.empty(),0)}static newFoundDocument(e,n,r){return new Ae(e,1,n,G.min(),r,0)}static newNoDocument(e,n){return new Ae(e,2,n,G.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new Ae(e,3,n,G.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ae&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ae(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eie{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function OV(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eie(t,e,n,r,i,s,o)}function Xs(t){const e=N(t);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Na(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ll(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Na(r)).join(",")),e.ht=n}return e.ht}function gl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!cie(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Mr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UV(t.startAt,e.startAt)&&UV(t.endAt,e.endAt)}function Ip(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ft extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,r):new nie(e,n,r):"array-contains"===n?new sie(e,r):"in"===n?new oie(e,r):"not-in"===n?new aie(e,r):"array-contains-any"===n?new uie(e,r):new Ft(e,n,r)}static lt(e,n,r){return"in"===n?new rie(e,r):new iie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(Ki(n,this.value)):null!==n&&Ys(this.value)===Ys(n)&&this.ft(Ki(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nie extends Ft{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.ft(n)}}class rie extends Ft{constructor(e,n){super(e,"in",n),this.keys=LV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iie extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=LV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class sie extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fl(n)&&hl(n.arrayValue,this.value)}}class oie extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&hl(this.value.arrayValue,n)}}class aie extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!hl(this.value.arrayValue,n)}}class uie extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hl(this.value.arrayValue,r))}}class Qi{constructor(e,n){this.position=e,this.inclusive=n}}class Ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function cie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function VV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):Ki(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function UV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}class pi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this._t=null,this.wt=null}}function ka(t){return new pi(t)}function $V(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Oa(t){const e=N(t);if(null===e._t){e._t=[];const n=function Ob(t){for(const e of t.filters)if(e.dt())return e.field;return null}(e),r=function kb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e._t.push(new Ra(n)),e._t.push(new Ra(Ye.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Ra(Ye.keyField(),s))}}}return e._t}function un(t){const e=N(t);if(!e.wt)if("F"===e.limitType)e.wt=OV(e.path,e.collectionGroup,Oa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Oa(e))n.push(new Ra(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Qi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Qi(e.startAt.position,e.startAt.inclusive):null;e.wt=OV(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Dp(t,e,n){return new pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ml(t,e){return gl(un(t),un(e))&&t.limitType===e.limitType}function jV(t){return`${Xs(un(t))}|lt:${t.limitType}`}function Fb(t){return`Query(target=${function tie(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Na(r.value)}`;var r}).join(", ")}]`),ll(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Na(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Na(n)).join(",")),`Target(${e})`}(un(t))}; limitType=${t.limitType})`}function Lb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=VV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Oa(n),r)||n.endAt&&!function(i,s,o){const a=VV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Oa(n),r)));var n,r}function GV(t){return(e,n)=>{let r=!1;for(const i of Oa(t)){const s=lie(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function lie(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ki(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}function qV(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dl(e)?"-0":e}}function zV(t){return{integerValue:""+t}}function WV(t,e){return function TV(t){return"number"==typeof t&&Number.isInteger(t)&&!dl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?zV(e):qV(t,e)}class bp{constructor(){this._=void 0}}function die(t,e,n){return t instanceof Pa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Js?QV(t,e):t instanceof eo?YV(t,e):function(r,i){const s=KV(r,i),o=ZV(s)+ZV(r.yt);return Rb(s)&&Rb(r.yt)?zV(o):qV(r.It,o)}(t,e)}function hie(t,e,n){return t instanceof Js?QV(t,e):t instanceof eo?YV(t,e):n}function KV(t,e){return t instanceof Fa?Rb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Pa extends bp{}class Js extends bp{constructor(e){super(),this.elements=e}}function QV(t,e){const n=XV(e);for(const r of t.elements)n.some(i=>Mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class eo extends bp{constructor(e){super(),this.elements=e}}function YV(t,e){let n=XV(e);for(const r of t.elements)n=n.filter(i=>!Mr(i,r));return{arrayValue:{values:n}}}class Fa extends bp{constructor(e,n){super(),this.It=e,this.yt=n}}function ZV(t){return qe(t.integerValue||t.doubleValue)}function XV(t){return fl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class pie{constructor(e,n){this.version=e,this.transformResults=n}}class Oe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oe}static exists(e){return new Oe(void 0,e)}static updateTime(e){return new Oe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Tp{}function JV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Va(t.key,Oe.none()):new La(t.key,t.data,Oe.none());{const n=t.data,r=Pt.empty();let i=new ve(Ye.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new gi(t.key,r,new Ln(i.toArray()),Oe.none())}}function gie(t,e,n){t instanceof La?function(r,i,s){const o=r.value.clone(),a=nU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof gi?function(r,i,s){if(!Cp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=nU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(tU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function _l(t,e,n,r){return t instanceof La?function(i,s,o,a){if(!Cp(i.precondition,s))return o;const u=i.value.clone(),c=rU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gi?function(i,s,o,a){if(!Cp(i.precondition,s))return o;const u=rU(i.fieldTransforms,a,s),c=s.data;return c.setAll(tU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Cp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function mie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=KV(r.transform,i||null);null!=s&&(null===n&&(n=Pt.empty()),n.set(r.field,s))}return n||null}function eU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&xa(n,r,(i,s)=>function fie(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Js&&r instanceof Js||n instanceof eo&&r instanceof eo?xa(n.elements,r.elements,Mr):n instanceof Fa&&r instanceof Fa?Mr(n.yt,r.yt):n instanceof Pa&&r instanceof Pa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class La extends Tp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gi extends Tp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nU(t,e,n){const r=new Map;H(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hie(o,a,n[i]))}return r}function rU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,die(s,o,e))}return r}class Va extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vb extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yie{constructor(e){this.count=e}}var st,he;function iU(t){switch(t){default:return P();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function sU(t){if(void 0===t)return Qe("GRPC error has no .code"),w.UNKNOWN;switch(t){case st.OK:return w.OK;case st.CANCELLED:return w.CANCELLED;case st.UNKNOWN:return w.UNKNOWN;case st.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case st.INTERNAL:return w.INTERNAL;case st.UNAVAILABLE:return w.UNAVAILABLE;case st.UNAUTHENTICATED:return w.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case st.NOT_FOUND:return w.NOT_FOUND;case st.ALREADY_EXISTS:return w.ALREADY_EXISTS;case st.PERMISSION_DENIED:return w.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case st.ABORTED:return w.ABORTED;case st.OUT_OF_RANGE:return w.OUT_OF_RANGE;case st.UNIMPLEMENTED:return w.UNIMPLEMENTED;case st.DATA_LOSS:return w.DATA_LOSS;default:return P()}}(he=st||(st={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";class Yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return DV(this.inner)}size(){return this.innerSize}}const _ie=new Ge(M.comparator);function In(){return _ie}const oU=new Ge(M.comparator);function vl(...t){let e=oU;for(const n of t)e=e.insert(n.key,n);return e}function aU(t){let e=oU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nr(){return wl()}function uU(){return wl()}function wl(){return new Yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const vie=new Ge(M.comparator),wie=new ve(M.comparator);function te(...t){let e=wie;for(const n of t)e=e.add(n);return e}const Iie=new ve(Y);function Sp(){return Iie}class Il{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,n)),new Il(G.min(),r,Sp(),In(),te())}}class El{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new El(mt.EMPTY_BYTE_STRING,n,te(),te(),te())}}class Ap{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class cU{constructor(e,n){this.targetId=e,this.At=n}}class lU{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dU{constructor(){this.Rt=0,this.bt=fU(),this.Pt=mt.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=te(),n=te(),r=te();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new El(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=fU()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Eie{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=In(),this.qt=hU(),this.Kt=new ve(Y)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(Ip(s))if(0===r){const o=new M(s.path);this.jt(n,o,Ae.newNoDocument(o,G.min()))}else H(1===r);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&Ip(a.target)){const u=new M(a.target.path);null!==this.Ut.get(u)||this.ee(o,u)||this.jt(o,u,Ae.newNoDocument(u,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=te();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Il(e,n,this.Kt,this.Ut,r);return this.Ut=In(),this.qt=hU(),this.Kt=new ve(Y),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new dU,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new ve(Y),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new dU),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function hU(){return new Ge(M.comparator)}function fU(){return new Ge(M.comparator)}const Die={asc:"ASCENDING",desc:"DESCENDING"},bie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Cie{constructor(e,n){this.databaseId=e,this.gt=n}}function Dl(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pU(t,e){return t.gt?e.toBase64():e.toUint8Array()}function Tie(t,e){return Dl(t,e.toTimestamp())}function bt(t){return H(!!t),G.fromTimestamp(function(e){const n=zi(e);return new Le(n.seconds,n.nanos)}(t))}function Ub(t,e){return(n=t,new de(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function gU(t){const e=de.fromString(t);return H(DU(e)),e}function bl(t,e){return Ub(t.databaseId,e.path)}function Rr(t,e){const n=gU(e);if(n.get(1)!==t.databaseId.projectId)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(yU(n))}function Bb(t,e){return Ub(t.databaseId,e)}function Cl(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yU(t){return H(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function _U(t,e,n){return{name:bl(t,e),fields:n.value.mapValue.fields}}function wU(t,e){return{documents:[Bb(t,e.path)]}}function jb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Bb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(xV(d.value))return{unaryFilter:{field:Ua(d.field),op:"IS_NAN"}};if(AV(d.value))return{unaryFilter:{field:Ua(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(xV(d.value))return{unaryFilter:{field:Ua(d.field),op:"IS_NOT_NAN"}};if(AV(d.value))return{unaryFilter:{field:Ua(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(d.field),op:Rie(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ua((l=c).field),direction:Nie(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.gt||ll(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function IU(t){let e=function mU(t){const e=gU(t);return 4===e.length?de.emptyPath():yU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){H(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=EU(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ra(Ba((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,ll(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Qi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Qi(l.values||[],!l.before)}(n.endAt)),function BV(t,e,n,r,i,s,o,a){return new pi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function EU(t){return t?void 0!==t.unaryFilter?[Oie(t)]:void 0!==t.fieldFilter?[kie(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>EU(e)).reduce((e,n)=>e.concat(n)):P():[]}function Nie(t){return Die[t]}function Rie(t){return bie[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Ba(t){return Ye.fromServerFormat(t.fieldPath)}function kie(t){return Ft.create(Ba(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(t.fieldFilter.op),t.fieldFilter.value)}function Oie(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ba(t.unaryFilter.field);return Ft.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ba(t.unaryFilter.field);return Ft.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ba(t.unaryFilter.field);return Ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ba(t.unaryFilter.field);return Ft.create(i,"!=",{nullValue:"NULL_VALUE"});default:return P()}}function Pie(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Gb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=JV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(n,r)=>eU(n,r))&&xa(this.baseMutations,e.baseMutations,(n,r)=>eU(n,r))}}class qb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){H(e.mutations.length===r.length);let i=vie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qb(e,n,r,i)}}class zb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zi{constructor(e,n,r,i,s=G.min(),o=G.min(),a=mt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class MU{constructor(e){this.re=e}}function Wb(t){const e=IU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Dp(e,e.limit,"L"):e}class io{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(qe(e.integerValue));else if("doubleValue"in e){const r=qe(e.doubleValue);isNaN(r)?this.le(n,13):(this.le(n,15),dl(r)?n.fe(0):n.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(n,20),"string"==typeof r?n.de(r):(n.de(`${r.seconds||""}`),n.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Ks(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(n,45),n.fe(r.latitude||0),n.fe(r.longitude||0)}else"mapValue"in e?MV(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):P()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const r=e.fields||{};this.le(n,55);for(const i of Object.keys(r))this._e(i,n),this.ae(r[i],n)}pe(e,n){const r=e.values||[];this.le(n,50);for(const i of r)this.ae(i,n)}ge(e,n){this.le(n,37),M.fromName(e).path.forEach(r=>{this.le(n,60),this.Ie(r,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}io.Te=new io;class ase{constructor(){this.Ye=new Qb}addToCollectionParentIndex(e,n){return this.Ye.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Fn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Fn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class Qb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ve(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ve(de.comparator)).toArray()}}new Uint8Array(0);class En{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(41943040,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class ao{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ao(0)}static vn(){return new ao(-1)}}class yse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ZU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(null!==r&&_l(r.mutation,i,Ln.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=vl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=In();const o=wl(),a=wl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof gi)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),_l(l.mutation,c,l.mutation.getFieldMask(),Le.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new yse(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wl();let i=new Ge((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Ln.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||te()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=uU();l.forEach(h=>{if(!s.has(h)){const f=JV(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Pb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Nr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.getBaseDocument(e,l,d).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,te())).next(l=>({batchId:a,changes:aU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=vl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new pi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,Ae.newInvalidDocument(c)))});let o=vl();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&_l(c.mutation,u,Ln.empty(),Le.now()),Lb(n,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,n,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,n):v.resolve(Ae.newInvalidDocument(n))}}class _se{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return v.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:bt(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:Wb(r.bundledQuery),readTime:bt(r.readTime)}),v.resolve();var r}}class vse{constructor(){this.overlays=new Ge(M.comparator),this.es=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Nr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ge((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Nr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Nr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zb(n,r));let s=this.es.get(n);void 0===s&&(s=te(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class Yb{constructor(){this.ns=new ve(Tt.ss),this.rs=new ve(Tt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Tt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new M(new de([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new M(new de([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=te();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return M.comparator(e.key,n.key)||Y(e._s,n._s)}static os(e,n){return Y(e._s,n._s)||M.comparator(e.key,n.key)}}class wse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ve(Tt.ss)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new Gb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ve(Y);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),v.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new M(s),0);let a=new ve(Y);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),v.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){H(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return v.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Tt(n,0),i=this.gs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ise{constructor(e){this.Es=e,this.docs=new Ge(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ae.newInvalidDocument(n))}getEntries(e,n){let r=In();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ae.newInvalidDocument(i))}),v.resolve(r)}getAllFromCollection(e,n,r){let i=In();const s=new M(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||Sb(vV(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return v.resolve(i)}getAllFromCollectionGroup(e,n,r,i){P()}As(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ese(this)}getSize(e){return v.resolve(this.size)}}class Ese extends class pse{constructor(){this.changes=new Yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ae.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Dse{constructor(e){this.persistence=e,this.Rs=new Yi(n=>Xs(n),gl),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Yb,this.targetCount=0,this.vs=ao.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),v.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Dn(n),v.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Ps.containsKey(n))}}class XU{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new wn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Dse(this),this.indexManager=new ase,this.remoteDocumentCache=new Ise(r=>this.referenceDelegate.xs(r)),this.It=new MU(n),this.Ns=new _se(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new wse(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new bse(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return v.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class bse extends class qre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Fs=new Yb,this.$s=null}static Bs(e){return new Lp(e)}get Ls(){if(this.$s)return this.$s;throw P()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),v.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ls,r=>{const i=M.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,G.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return v.or([()=>v.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class eC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new eC(e,n.fromCache,r,i)}}class e2{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if($V(n))return v.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Dp(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=te(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,Dp(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return $V(n)||i.isEqual(G.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(bb()<=le.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fb(n)),this.Bi(e,o,n,function _V(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(1e9===r?new Le(n+1,0):new Le(n,r));return new Fn(i,M.empty(),e)}(i,-1)))})}Fi(e,n){let r=new ve(GV(e));return n.forEach((i,s)=>{Lb(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return bb()<=le.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Fb(n)),this.Ni.getDocumentsMatchingQuery(e,n,Fn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Tse{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Ge(Y),this.qi=new Yi(s=>Xs(s),gl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function n2(t,e){return tC.apply(this,arguments)}function tC(){return tC=g(function*(t,e){const n=N(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=te();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),tC.apply(this,arguments)}function Sse(t,e){const n=N(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);H(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=te();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function r2(t){const e=N(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function Ase(t,e){const n=N(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(mt.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=In(),c=te();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function i2(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=In();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(G.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(G.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ui=i,s))}function xse(t,e){const n=N(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ha(t,e){const n=N(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new Zi(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}function Ga(t,e,n){return nC.apply(this,arguments)}function nC(){return nC=g(function*(t,e,n){const r=N(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!qi(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),nC.apply(this,arguments)}function Up(t,e,n){const r=N(t);let i=G.min(),s=te();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=N(a),d=l.qi.get(c);return void 0!==d?v.resolve(l.Ui.get(d)):l.Cs.getTargetData(u,c)}(r,o,un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:G.min(),n?s:te())).next(a=>(function a2(t,e,n){let r=t.Ki.get(e)||G.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function HV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class aC{constructor(){this.activeTargetIds=Sp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l2{constructor(){this.Lr=new aC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new aC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rse{qr(e){}shutdown(){}}class d2{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ose{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Pse extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Aa("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.oo}/v1/${n}:${kse[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new Ore;a.listenOnce(Nre.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Db.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Db.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case Db.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new C(h,d.message))}else o(new C(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(w.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=xre(),o=Mre(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new kre({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new Ose({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,y)=>{p.listen(m,I=>{try{y(I)}catch(E){setTimeout(()=>{throw E},0)}})};return f(c,pp.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,pp.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,pp.EventType.ERROR,p=>{d||(d=!0,Aa("Connection","WebChannel transport errored:",p),h.io(new C(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,pp.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];H(!!y);const I=y,E=I.error||(null===(m=I[0])||void 0===m?void 0:m.error);if(E){T("Connection","WebChannel received error:",E);const _=E.status;let S=function(F){const we=st[F];if(void 0!==we)return sU(we)}(_),O=E.message;void 0===S&&(S=w.INTERNAL,O="Unknown error status: "+_+" with message "+E.message),d=!0,h.io(new C(S,O)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,Rre.STAT_EVENT,p=>{p.stat===hV.PROXY?T("Connection","Detected buffering proxy"):p.stat===hV.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function jp(){return typeof document<"u"?document:null}function Pl(t){return new Cie(t,!0)}class cC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class f2{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new cC(e,n)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return g(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return g(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var r=this;return g(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Qe(n.toString()),Qe("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new C(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro(g(function*(){e.state=0,e.start()}))}jo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fse extends f2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function Aie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.gt?(H(void 0===c||"string"==typeof c),mt.fromBase64String(c||"")):(H(void 0===c||c instanceof Uint8Array),mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:sU(u.code);return new C(c,u.message||"")}(o);n=new lU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Rr(t,r.document.name),s=bt(r.document.updateTime),o=new Pt({mapValue:{fields:r.document.fields}}),a=Ae.newFoundDocument(i,s,o);n=new Ap(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Rr(t,r.document),s=r.readTime?bt(r.readTime):G.min(),o=Ae.newNoDocument(i,s);n=new Ap([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Rr(t,r.document);n=new Ap([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,s=new yie(r.count||0);n=new cU(r.targetId,s)}}var u;return n}(this.It,e),r=function(i){if(!("targetChange"in i))return G.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?bt(s.readTime):G.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=Cl(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=Ip(a)?{documents:wU(i,a)}:{query:jb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=pU(i,s.resumeToken):s.snapshotVersion.compareTo(G.min())>0&&(o.readTime=Dl(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=function Mie(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return P()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=Cl(this.It),n.removeTarget=e,this.Lo(n)}}class Lse extends f2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(H(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function xie(t,e){return t&&t.length>0?(H(void 0!==e),t.map(n=>function(r,i){let s=bt(r.updateTime?r.updateTime:i);return s.isEqual(G.min())&&(s=bt(i)),new pie(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=bt(e.commitTime);return this.listener.tu(r,n)}return H(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Cl(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Tl(t,e){let n;if(e instanceof La)n={update:_U(t,e.key,e.value)};else if(e instanceof Va)n={delete:bl(t,e.key)};else if(e instanceof gi)n={update:_U(t,e.key,e.data),updateMask:Pie(e.fieldMask)};else{if(!(e instanceof Vb))return P();n={verify:bl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Pa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Js)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof eo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fa)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Tie(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.It,r))};this.Lo(n)}}class Vse extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.ao(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(w.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.So._o(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new C(w.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class Bse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Qe(n),this.uu=!1):T("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class $se{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.qr(a=>{r.enqueueAndForget(g(function*(){var u;mi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=N(c);l.wu.add(4),yield qa(l),l.yu.set("Unknown"),l.wu.delete(4),yield Fl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.yu=new Bse(r,i)}}function Fl(t){return dC.apply(this,arguments)}function dC(){return dC=g(function*(t){if(mi(t))for(const e of t.mu)yield e(!0)}),dC.apply(this,arguments)}function qa(t){return hC.apply(this,arguments)}function hC(){return hC=g(function*(t){for(const e of t.mu)yield e(!1)}),hC.apply(this,arguments)}function Hp(t,e){const n=N(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),gC(n)?pC(n):Wa(n).Oo()&&fC(n,e))}function Ll(t,e){const n=N(t),r=Wa(n);n._u.delete(e),r.Oo()&&p2(n,e),0===n._u.size&&(r.Oo()?r.$o():mi(n)&&n.yu.set("Unknown"))}function fC(t,e){t.pu.Mt(e.targetId),Wa(t).Ho(e)}function p2(t,e){t.pu.Mt(e),Wa(t).Jo(e)}function pC(t){t.pu=new Eie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t._u.get(e)||null}),Wa(t).start(),t.yu.cu()}function gC(t){return mi(t)&&!Wa(t).ko()&&t._u.size>0}function mi(t){return 0===N(t).wu.size}function g2(t){t.pu=void 0}function jse(t){return mC.apply(this,arguments)}function mC(){return mC=g(function*(t){t._u.forEach((e,n)=>{fC(t,e)})}),mC.apply(this,arguments)}function Hse(t,e){return yC.apply(this,arguments)}function yC(){return yC=g(function*(t,e){g2(t),gC(t)?(t.yu.lu(e),pC(t)):t.yu.set("Unknown")}),yC.apply(this,arguments)}function Gse(t,e,n){return _C.apply(this,arguments)}function _C(){return _C=g(function*(t,e,n){if(t.yu.set("Online"),e instanceof lU&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gp(t,r)}else if(e instanceof Ap?t.pu.Gt(e):e instanceof cU?t.pu.Yt(e):t.pu.Wt(e),!n.isEqual(G.min()))try{const r=yield r2(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.te(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i._u.get(u);c&&i._u.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i._u.get(a);if(!u)return;i._u.set(a,u.withResumeToken(mt.EMPTY_BYTE_STRING,u.snapshotVersion)),p2(i,a);const c=new Zi(u.target,a,1,u.sequenceNumber);fC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Gp(t,r)}var r}),_C.apply(this,arguments)}function Gp(t,e,n){return vC.apply(this,arguments)}function vC(){return vC=g(function*(t,e,n){if(!qi(e))throw e;t.wu.add(1),yield qa(t),t.yu.set("Offline"),n||(n=()=>r2(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.wu.delete(1),yield Fl(t)}))}),vC.apply(this,arguments)}function m2(t,e){return e().catch(n=>Gp(t,n,e))}function za(t){return wC.apply(this,arguments)}function wC(){return wC=g(function*(t){const e=N(t),n=es(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;qse(e);)try{const i=yield xse(e.localStore,r);if(null===i){0===e.du.length&&n.$o();break}r=i.batchId,zse(e,i)}catch(i){yield Gp(e,i)}y2(e)&&_2(e)}),wC.apply(this,arguments)}function qse(t){return mi(t)&&t.du.length<10}function zse(t,e){t.du.push(e);const n=es(t);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function y2(t){return mi(t)&&!es(t).ko()&&t.du.length>0}function _2(t){es(t).start()}function Wse(t){return IC.apply(this,arguments)}function IC(){return IC=g(function*(t){es(t).nu()}),IC.apply(this,arguments)}function Kse(t){return EC.apply(this,arguments)}function EC(){return EC=g(function*(t){const e=es(t);for(const n of t.du)e.Zo(n.mutations)}),EC.apply(this,arguments)}function Qse(t,e,n){return DC.apply(this,arguments)}function DC(){return DC=g(function*(t,e,n){const r=t.du.shift(),i=qb.from(r,e,n);yield m2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield za(t)}),DC.apply(this,arguments)}function Yse(t,e){return bC.apply(this,arguments)}function bC(){return bC=g(function*(t,e){var n;e&&es(t).Xo&&(yield(n=g(function*(r,i){if(iU(s=i.code)&&s!==w.ABORTED){const o=r.du.shift();es(r).Fo(),yield m2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield za(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),y2(t)&&_2(t)}),bC.apply(this,arguments)}function v2(t,e){return CC.apply(this,arguments)}function CC(){return CC=g(function*(t,e){const n=N(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=mi(n);n.wu.add(3),yield qa(n),r&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield Fl(n)}),CC.apply(this,arguments)}function SC(){return SC=g(function*(t,e){const n=N(t);e?(n.wu.delete(2),yield Fl(n)):e||(n.wu.add(2),yield qa(n),n.yu.set("Unknown"))}),SC.apply(this,arguments)}function Wa(t){return t.Iu||(t.Iu=function(e,n,r){const i=N(e);return i.iu(),new Fse(n,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:jse.bind(null,t),Zr:Hse.bind(null,t),zo:Gse.bind(null,t)}),t.mu.push(function(){var e=g(function*(n){n?(t.Iu.Fo(),gC(t)?pC(t):t.yu.set("Unknown")):(yield t.Iu.stop(),g2(t))});return function(n){return e.apply(this,arguments)}}())),t.Iu}function es(t){return t.Tu||(t.Tu=function(e,n,r){const i=N(e);return i.iu(),new Lse(n,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:Wse.bind(null,t),Zr:Yse.bind(null,t),eu:Kse.bind(null,t),tu:Qse.bind(null,t)}),t.mu.push(function(){var e=g(function*(n){n?(t.Tu.Fo(),yield za(t)):(yield t.Tu.stop(),t.du.length>0&&(T("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))});return function(n){return e.apply(this,arguments)}}())),t.Tu}class AC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new AC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ka(t,e){if(Qe("AsyncQueue",`${e}: ${t}`),qi(t))return new C(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Qa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=vl(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Qa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class w2{constructor(){this.Eu=new Ge(M.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(n):1===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):P():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ya{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ya(e,n,Qa.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Zse{constructor(){this.Ru=void 0,this.listeners=[]}}class Xse{constructor(){this.queries=new Yi(e=>jV(e),ml),this.onlineState="Unknown",this.bu=new Set}}function MC(){return MC=g(function*(t,e){const n=N(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Zse),i)try{s.Ru=yield n.onListen(r)}catch(o){const a=Ka(o,`Initialization of query '${Fb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.vu(s.Ru)&&kC(n)}),MC.apply(this,arguments)}function RC(){return RC=g(function*(t,e){const n=N(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),RC.apply(this,arguments)}function Jse(t,e){const n=N(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Ru=i}}r&&kC(n)}function eoe(t,e,n){const r=N(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function kC(t){t.bu.forEach(e=>{e.next()})}class OC{constructor(e,n,r){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}class D2{constructor(e){this.key=e}}class b2{constructor(e){this.key=e}}class C2{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=te(),this.mutatedKeys=te(),this.Gu=GV(e),this.Qu=new Qa(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new w2,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Lb(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new Ya(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new w2,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=te(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new b2(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new D2(r))}),n}tc(e){this.Uu=e.Hi,this.Ku=te();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Ya.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class roe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ioe{constructor(e){this.key=e,this.nc=!1}}class soe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Yi(a=>jV(a),ml),this.rc=new Map,this.oc=new Set,this.uc=new Ge(M.comparator),this.cc=new Map,this.ac=new Yb,this.hc={},this.lc=new Map,this.fc=ao.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function ooe(t,e){return PC.apply(this,arguments)}function PC(){return PC=g(function*(t,e){const n=iT(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Ha(n.localStore,un(e));n.isPrimaryClient&&Hp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield FC(n,e,r,"current"===a)}return i}),PC.apply(this,arguments)}function FC(t,e,n,r){return LC.apply(this,arguments)}function LC(){return LC=g(function*(t,e,n,r){t._c=(l,d,h)=>{return(f=g(function*(p,m,y,I){let E=m.view.Wu(y);E.$i&&(E=yield Up(p.localStore,m.query,!1).then(({documents:O})=>m.view.Wu(O,E)));const _=I&&I.targetChanges.get(m.targetId),S=m.view.applyChanges(E,p.isPrimaryClient,_);return WC(p,m.targetId,S.Xu),S.snapshot}),function(p,m,y,I){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Up(t.localStore,e,!0),s=new C2(e,i.Hi),o=s.Wu(i.documents),a=El.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);WC(t,n,u.Xu);const c=new roe(e,n,s);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}),LC.apply(this,arguments)}function aoe(t,e){return VC.apply(this,arguments)}function VC(){return VC=g(function*(t,e){const n=N(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!ml(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ga(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ll(n.remoteStore,r.targetId),Za(n,r.targetId)}).catch(Gi))):(Za(n,r.targetId),yield Ga(n.localStore,r.targetId,!0))}),VC.apply(this,arguments)}function UC(){return UC=g(function*(t,e,n){const r=sT(t);try{const i=yield function(s,o){const a=N(s),u=Le.now(),c=o.reduce((h,f)=>h.add(f.key),te());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=In(),p=te();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const E=mie(I,l.get(I.key).overlayedDocument);null!=E&&y.push(new gi(I.key,E,kV(E.value.mapValue),Oe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:aU(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new Ge(Y)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield yi(r,i.changes),yield za(r.remoteStore)}catch(i){const s=Ka(i,"Failed to persist write");n.reject(s)}}),UC.apply(this,arguments)}function T2(t,e){return BC.apply(this,arguments)}function BC(){return BC=g(function*(t,e){const n=N(t);try{const r=yield Ase(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(H(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?H(o.nc):i.removedDocuments.size>0&&(H(o.nc),o.nc=!1))}),yield yi(n,r,e)}catch(r){yield Gi(r)}}),BC.apply(this,arguments)}function S2(t,e,n){const r=N(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Pu(o)&&(u=!0)}),u&&kC(a)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function coe(t,e,n){return $C.apply(this,arguments)}function $C(){return $C=g(function*(t,e,n){const r=N(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Ge(M.comparator);o=o.insert(s,Ae.newNoDocument(s,G.min()));const a=te().add(s),u=new Il(G.min(),new Map,new ve(Y),o,a);yield T2(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),KC(r)}else yield Ga(r.localStore,e,!1).then(()=>Za(r,e,n)).catch(Gi)}),$C.apply(this,arguments)}function loe(t,e){return jC.apply(this,arguments)}function jC(){return jC=g(function*(t,e){const n=N(t),r=e.batch.batchId;try{const i=yield Sse(n.localStore,e);zC(n,r,null),qC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield yi(n,i)}catch(i){yield Gi(i)}}),jC.apply(this,arguments)}function doe(t,e,n){return HC.apply(this,arguments)}function HC(){return HC=g(function*(t,e,n){const r=N(t);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(H(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);zC(r,e,n),qC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield yi(r,i)}catch(i){yield Gi(i)}}),HC.apply(this,arguments)}function qC(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function zC(t,e,n){const r=N(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Za(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||A2(t,r)})}function A2(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(Ll(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),KC(t))}function WC(t,e,n){for(const r of n)r instanceof D2?(t.ac.addReference(r.key,e),foe(t,r)):r instanceof b2?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||A2(t,r.key)):P()}function foe(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.oc.add(r),KC(t))}function KC(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new M(de.fromString(e)),r=t.fc.next();t.cc.set(r,new ioe(n)),t.uc=t.uc.insert(n,r),Hp(t.remoteStore,new Zi(un(ka(n.path)),r,2,wn.at))}}function yi(t,e,n){return QC.apply(this,arguments)}function QC(){return QC=g(function*(t,e,n){const r=N(t),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=eC.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.zo(i),yield(a=g(function*(u,c){const l=N(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!qi(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ui.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ui=l.Ui.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),QC.apply(this,arguments)}function poe(t,e){return YC.apply(this,arguments)}function YC(){return YC=g(function*(t,e){const n=N(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield n2(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(o=>{o.forEach(a=>{a.reject(new C(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yi(n,r.ji)}var i}),YC.apply(this,arguments)}function goe(t,e){const n=N(t),r=n.cc.get(e);if(r&&r.nc)return te().add(r.key);{let i=te();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function iT(t){const e=N(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=goe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=coe.bind(null,e),e.sc.zo=Jse.bind(null,e.eventManager),e.sc.wc=eoe.bind(null,e.eventManager),e}function sT(t){const e=N(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=loe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=doe.bind(null,e),e}class boe{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.It=Pl(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function t2(t,e,n,r){return new Tse(t,e,n,r)}(this.persistence,new e2,e.initialUser,this.It)}yc(e){return new XU(Lp.Bs,this.It)}gc(e){return new l2}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class oT{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>S2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=poe.bind(null,r.syncEngine),yield function TC(t,e){return SC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xse}createDatastore(e){const n=Pl(e.databaseInfo.databaseId),r=new Pse(e.databaseInfo);return new Vse(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>S2(this.syncEngine,a,0),o=d2.C()?new d2:new Rse,new $se(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new soe(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=N(n);T("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield qa(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function aT(t,e,n){if(!n)throw new C(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N2(t){if(!M.isDocumentKey(t))throw new C(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function R2(t){if(M.isDocumentKey(t))throw new C(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function ae(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qp(t);throw new C(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const O2=new Map;class P2{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Soe(t,e,n,r){if(!0===e&&!0===r)throw new C(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P2(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Pre;switch(n.type){case"gapi":return new Ure(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=O2.get(e);n&&(T("ComponentProvider","Removing Datastore"),O2.delete(e),n.terminate())}(this),Promise.resolve()}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}}class Kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class Or extends Kt{constructor(e,n,r){super(e,n,ka(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new M(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function F2(t,e,...n){if(t=mn(t),aT("collection","path",e),t instanceof Vl){const r=de.fromString(e,...n);return R2(r),new Or(t,null,r)}{if(!(t instanceof Ze||t instanceof Or))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return R2(r),new Or(t.firestore,null,r)}}class zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Qe("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Poe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dt.UNAUTHENTICATED,this.clientId=mV.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ka(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function U2(t,e){return uT.apply(this,arguments)}function uT(){return uT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield n2(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),uT.apply(this,arguments)}function B2(t,e){return cT.apply(this,arguments)}function cT(){return cT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield lT(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>v2(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>v2(e.remoteStore,s)),t.onlineComponents=e}),cT.apply(this,arguments)}function lT(t){return dT.apply(this,arguments)}function dT(){return dT=g(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield U2(t,new boe)),t.offlineComponents}),dT.apply(this,arguments)}function Wp(t){return hT.apply(this,arguments)}function hT(){return hT=g(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield B2(t,new oT)),t.onlineComponents}),hT.apply(this,arguments)}function gT(){return gT=g(function*(t){const e=yield Wp(t),n=e.eventManager;return n.onListen=ooe.bind(null,e.syncEngine),n.onUnlisten=aoe.bind(null,e.syncEngine),n}),gT.apply(this,arguments)}function G2(t,e,n={}){const r=new gt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new zp({next:d=>{s.enqueueAndForget(()=>function NC(t,e){return RC.apply(this,arguments)}(i,l)),d.fromCache&&"server"===a.source?u.reject(new C(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new OC(o,c,{includeMetadataChanges:!0,ku:!0});return function xC(t,e){return MC.apply(this,arguments)}(i,l)}(yield function Xa(t){return gT.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}class Hoe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new cC(this,"async_queue_retry"),this.Wc=()=>{const n=jp();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=jp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=jp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new gt;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(n){if(!qi(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Qe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=AC.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.qc.push(i),i}zc(){this.Kc&&P()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}class Me extends Vl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hoe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||q2(this),this._firestoreClient.terminate()}}function qoe(t,e){const r="string"==typeof t?t:e||"(default)",i=fa("object"==typeof t?t:Ov(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lO("firestore");if(s){const[o,a]=s.split(":");!function Aoe(t,e,n,r={}){var i;const s=(t=ae(t,Vl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Aa("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Dt.MOCK_USER;else{o=function B9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rf(JSON.stringify({alg:"none",type:"JWT"})),rf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new C(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Dt(u)}t._authCredentials=new Fre(new pV(o,a))}}(i,o,parseInt(a,10))}}return i}function ot(t){return t._firestoreClient||q2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function q2(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Zre(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Poe(t._authCredentials,t._appCheckCredentials,t._queue,r)}class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(mt.fromBase64String(e))}catch(n){throw new C(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ja{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class K2{constructor(e){this._methodName=e}}class yT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const zoe=/^__.*__$/;class Woe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new La(e,this.data,n,this.fieldTransforms)}}function Y2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class Qp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Zp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Y2(this.sa)&&zoe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Koe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||Pl(e)}da(e,n,r,i=!1){return new Qp({sa:e,methodName:n,fa:r,path:Ye.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function eu(t){const e=t._freezeSettings(),n=Pl(t._databaseId);return new Koe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _T(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);wT("Data must be an object, but it was:",o,r);const a=tB(r,o);let u,c;if(s.merge)u=new Ln(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=IT(e,d,n);if(!o.contains(h))throw new C(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);rB(l,h)||l.push(h)}u=new Ln(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Woe(new Pt(a),u,c)}function lo(t,e){if(nB(t=mn(t)))return wT("Unsupported field value:",e,t),tB(t,e);if(t instanceof K2)return function(n,r){if(!Y2(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=lo(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=mn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return WV(r.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Le.fromDate(n);return{timestampValue:Dl(r.It,i)}}if(n instanceof Le){const i=new Le(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Dl(r.It,i)}}if(n instanceof yT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof co)return{bytesValue:pU(r.It,n._byteString)};if(n instanceof Ze){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ub(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${qp(n)}`)}(t,e)}function tB(t,e){const n={};return DV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(r,i)=>{const s=lo(i,e.ra(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function nB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof yT||t instanceof co||t instanceof Ze||t instanceof K2)}function wT(t,e,n){if(!nB(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=qp(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function IT(t,e,n){if((e=mn(e))instanceof Ja)return e._internalPath;if("string"==typeof e)return Yp(t,e);throw Zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xoe=new RegExp("[~\\*/\\[\\]]");function Yp(t,e,n){if(e.search(Xoe)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ja(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(w.INVALID_ARGUMENT,a+t+u)}function rB(t,e){return t.some(n=>n.isEqual(e))}class ET{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Joe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Joe extends ET{data(){return super.data()}}function Xp(t,e){return"string"==typeof e?Yp(t,e):e instanceof Ja?e._internalPath:e._delegate._internalPath}class ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tu extends ET{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jp extends tu{data(e={}){return super.data(e)}}class nu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jp(this._firestore,this._userDataWriter,r.key,r,new ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Jp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ho(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Jp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ho(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:rae(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class ts extends class nae{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){const r={};return Ws(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new yT(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=CV(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const n=zi(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);H(DU(r));const i=new Qs(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||Qe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function iae(t){t=ae(t,Kt);const e=ae(t.firestore,Me),n=ot(e),r=new ts(e);return function iB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new C(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),G2(n,t._query).then(i=>new nu(e,r,t,i))}function sae(t,e){const n=ae(t.firestore,Me),r=function xoe(t,e,...n){if(t=mn(t),1===arguments.length&&(e=mV.R()),aT("doc","path",e),t instanceof Vl){const r=de.fromString(e,...n);return N2(r),new Ze(t,null,new M(r))}{if(!(t instanceof Ze||t instanceof Or))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return N2(r),new Ze(t.firestore,t instanceof Or?t.converter:null,new M(r))}}(t),i=function DT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Bl(t,e){return function(n,r){const i=new gt;return n.asyncQueue.enqueueAndForget(g(function*(){return function uoe(t,e,n){return UC.apply(this,arguments)}(yield function pT(t){return Wp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ot(t),e)}(n,[_T(eu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Oe.exists(!1))]).then(()=>r)}!function(t,e=!0){Sa="9.11.0",sn(new qt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Me(new Lre(n.getProvider("auth-internal")),new Bre(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qs(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),He(fV,"3.6.0",t),He(fV,"3.6.0","esm2017")}();class $l{constructor(e){return e}}const fB="firestore",CT=new V("angularfire2.firestore-instances");function dae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $l(r)}}const hae={provide:class cae{constructor(){return wI(fB)}},deps:[[new Bt,CT]]},fae={provide:$l,useFactory:function lae(t,e){const n=vI(fB,t,e);return n&&new $l(n)},deps:[[new Bt,CT],va]};let pae=(()=>{class t{constructor(){He("angularfire",wf.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({providers:[fae,hae]}),t})();function gae(t,...e){return{ngModule:pae,providers:[{provide:CT,useFactory:dae(t),multi:!0,deps:[Pe,en,II,EI,[new Bt,ZF],[new Bt,BI],...e]}]}}const mae=Ls(sae,!0),yae=Ls(iae,!0),_ae=Ls(qoe,!0);let pB=(()=>{class t{constructor(n){this.router=n,this.movetoadd=()=>{this.router.navigate(["/add"])},this.movetoview=()=>{this.router.navigate(["/view"])},this.movetologin=()=>{this.router.navigate(["/login"])}}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(b(ht))},t.\u0275cmp=wi({type:t,selectors:[["app-navbar"]],decls:8,vars:0,consts:[[1,"navbar","bg-dark"],[1,"container-fluid","justify-content-start"],["type","button",1,"btn","btn-outline-success","me-2",3,"click"]],template:function(n,r){1&n&&(De(0,"nav",0)(1,"form",1)(2,"button",2),We("click",function(){return r.movetoadd()}),tt(3,"Add Details"),xe(),De(4,"button",2),We("click",function(){return r.movetoview()}),tt(5,"View Details"),xe(),De(6,"button",2),We("click",function(){return r.movetologin()}),tt(7,"Exit"),xe()()())},dependencies:[Oh,Ch,ia]}),t})(),vae=(()=>{class t{constructor(n){this.fire=n,this.addData=r=>{const i=F2(this.fire,"details");mae(i,r).then(()=>{alert("Data added to database!")}).catch(s=>{console.log(s.message),alert("Data could not be added!")})}}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(b($l))},t.\u0275cmp=wi({type:t,selectors:[["app-adddetails"]],decls:25,vars:0,consts:[[2,"text-align","center"],[1,"container"],[1,"row"],[1,"col","col-12","col-sm-12","col-md-12","col-lg-12"],[1,"row","g-3"],[3,"ngSubmit"],["newform","ngForm"],["for","name",1,"form-label"],["type","text","name","name","ngModel","","placeholder","Enter name",1,"form-control"],["for","age",1,"form-label"],["type","text","ngModel","","name","age","placeholder","Enter age",1,"form-control"],["for","grade",1,"form-label"],["type","text","ngModel","","name","grade","placeholder","Enter the grade you are in",1,"form-control"],["for","school",1,"form-label"],["type","text","ngModel","","name","school","placeholder","Enter school name",1,"form-control"],[1,"btn","btn-success"]],template:function(n,r){if(1&n){const i=function dx(){return D()}();Gn(0,"app-navbar"),De(1,"h1",0),tt(2,"Add information"),xe(),De(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",3)(8,"form",5,6),We("ngSubmit",function(){!function w0(t){return K.lFrame.contextLView=t,t[8]}(i);const o=function cx(t){return function wo(t,e){return t[e]}(function F$(){return K.lFrame.contextLView}(),22+t)}(9);return function I0(t){return K.lFrame.contextLView=null,t}(r.addData(o.value))}),De(10,"label",7),tt(11,"Name"),xe(),Gn(12,"input",8),De(13,"label",9),tt(14,"Age"),xe(),Gn(15,"input",10),De(16,"label",11),tt(17,"Grade"),xe(),Gn(18,"input",12),De(19,"label",13),tt(20,"School"),xe(),Gn(21,"input",14)(22,"br"),De(23,"button",15),tt(24,"Submit"),xe()()()()()()()}},dependencies:[Oh,tc,E_,Ch,kh,ia,pB]}),t})(),gB=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.email="",this.password="",this.handleregister=(i,s)=>{xne(this.auth,i,s).then(o=>{console.log(o.user),this.router.navigate(["/add"])}).catch(o=>{alert("This email is already in use! Please login to continue")})},this.handlelogin=(i,s)=>{Nne(this.auth,i,s).then(o=>{console.log(o.user),this.router.navigate(["/add"])}).catch(o=>{alert("Invalid login! Please ensure that the details are correct or that you are registered.")})}}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(b($f),b(ht))},t.\u0275cmp=wi({type:t,selectors:[["app-login"]],decls:21,vars:2,consts:[[2,"text-align","center"],[1,"container"],[1,"row"],[1,"col","col-12","col-sm-12","col-md-12","col-lg-12"],[1,"row","g-3"],["for","inputemail",1,"form-label"],["type","email","name","email","placeholder","Enter email",1,"form-control",3,"ngModel","ngModelChange"],["for","inputpass",1,"form-label"],["type","password","name","password","placeholder","Enter password",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"]],template:function(n,r){1&n&&(De(0,"h1",0),tt(1,"LOGIN"),xe(),De(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",3)(7,"form")(8,"label",5),tt(9,"Email"),xe(),De(10,"input",6),We("ngModelChange",function(s){return r.email=s}),xe(),De(11,"label",7),tt(12,"Password"),xe(),De(13,"input",8),We("ngModelChange",function(s){return r.password=s}),xe(),Gn(14,"br"),De(15,"button",9),We("click",function(){return r.handlelogin(r.email,r.password)}),tt(16,"LOGIN"),xe(),De(17,"div"),Gn(18,"br"),De(19,"button",9),We("click",function(){return r.handleregister(r.email,r.password)}),tt(20,"REGISTER"),xe()()()()()()()()),2&n&&(Ti(10),Lu("ngModel",r.email),Ti(3),Lu("ngModel",r.password))},dependencies:[Oh,tc,E_,Ch,kh,ia]}),t})();function wae(t,e){if(1&t&&(De(0,"div",6)(1,"div",7)(2,"div",8)(3,"h5",9),tt(4),xe(),De(5,"p",10),tt(6),xe(),De(7,"p",10),tt(8),xe(),De(9,"p",10),tt(10),xe()()()()),2&t){const n=e.$implicit;Ti(4),Xo(n.name),Ti(2),Xo(n.age),Ti(2),Xo(n.grade),Ti(2),Xo(n.school)}}const Iae=[{path:"add",component:vae},{path:"",component:gB},{path:"view",component:(()=>{class t{constructor(n){this.fire=n,this.data=[],this.getData=()=>{const r=F2(this.fire,"details");yae(r).then(i=>{this.data=[...i.docs.map(s=>({...s.data(),id:s.id}))]})},this.getData()}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(b($l))},t.\u0275cmp=wi({type:t,selectors:[["app-viewdetails"]],decls:8,vars:1,consts:[[2,"text-align","center"],[1,"container"],[1,"row"],[1,"col","col-12","col-sm-12","col-md-12","col-lg-12"],[1,"row","g-3"],["class","col col-12 col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col","col-12","col-sm-6","col-md-4","col-lg-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,r){1&n&&(Gn(0,"app-navbar"),De(1,"h1",0),tt(2,"View Details"),xe(),De(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),function ux(t,e,n,r,i,s,o,a){const u=D(),c=ce(),l=t+22,d=c.firstCreatePass?function $q(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Bo(e,t,4,o||null,Ii(c,a));Qm(e,n,l,Ii(c,u)),ud(e,l);const d=l.tViews=Km(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];gr(d,!1);const h=u[11].createComment("");Ad(c,u,h,d),$t(h,u),Fd(u,u[l]=zA(h,u,h,d)),sd(d)&&zm(c,u,d),null!=o&&Wm(u,d,a)}(7,wae,11,4,"div",5),xe()()()()),2&n&&(Ti(7),Lu("ngForOf",r.data))},dependencies:[dR,pB]}),t})()},{path:"login",component:gB}];let Eae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=ln({imports:[sO.forRoot(Iae),sO]}),t})(),Dae=(()=>{class t{constructor(){this.title="Firebasics"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=wi({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Gn(0,"router-outlet")},dependencies:[nv]}),t})();const mB_firebase={projectId:"angular-project-2ac22",appId:"1:866430021914:web:78a547549a92028f1cbca3",storageBucket:"angular-project-2ac22.appspot.com",locationId:"us-central",apiKey:"AIzaSyBtv0nkWZP-pqI98rhniX_lzZyiYiC-pfk",authDomain:"angular-project-2ac22.firebaseapp.com",messagingSenderId:"866430021914"};let bae=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t,bootstrap:[Dae]}),t.\u0275inj=ln({imports:[$6,Eae,QX(()=>YX(mB_firebase)),Ane(()=>Mne()),gae(()=>_ae()),t5]}),t})();(function a4(){VN=!1})(),B6().bootstrapModule(bae).catch(t=>console.error(t))},163:ru=>{function _i(Hl){var _e=new Error("Cannot find module '"+Hl+"'");throw _e.code="MODULE_NOT_FOUND",_e}_i.keys=()=>[],_i.resolve=_i,_i.id=163,ru.exports=_i}},ru=>{ru(ru.s=986)}]);